/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/react-router@7.1.5/dist/development/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
"use strict";var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,t)=>{for(var r in t)__defProp(e,r,{get:t[r],enumerable:!0})},__copyProps=(e,t,r,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of __getOwnPropNames(t))__hasOwnProp.call(e,o)||o===r||__defProp(e,o,{get:()=>t[o],enumerable:!(a=__getOwnPropDesc(t,o))||a.enumerable});return e},__toESM=(e,t,r)=>(r=null!=e?__create(__getProtoOf(e)):{},__copyProps(!t&&e&&e.__esModule?r:__defProp(r,"default",{value:e,enumerable:!0}),e)),__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),react_router_exports={};__export(react_router_exports,{Await:()=>Await,BrowserRouter:()=>BrowserRouter,Form:()=>Form,HashRouter:()=>HashRouter,IDLE_BLOCKER:()=>IDLE_BLOCKER,IDLE_FETCHER:()=>IDLE_FETCHER,IDLE_NAVIGATION:()=>IDLE_NAVIGATION,Link:()=>Link,Links:()=>Links,MemoryRouter:()=>MemoryRouter,Meta:()=>Meta,NavLink:()=>NavLink,Navigate:()=>Navigate,NavigationType:()=>Action,Outlet:()=>Outlet,PrefetchPageLinks:()=>PrefetchPageLinks,Route:()=>Route,Router:()=>Router,RouterProvider:()=>RouterProvider,Routes:()=>Routes,Scripts:()=>Scripts,ScrollRestoration:()=>ScrollRestoration,ServerRouter:()=>ServerRouter,StaticRouter:()=>StaticRouter,StaticRouterProvider:()=>StaticRouterProvider,UNSAFE_DataRouterContext:()=>DataRouterContext,UNSAFE_DataRouterStateContext:()=>DataRouterStateContext,UNSAFE_ErrorResponseImpl:()=>ErrorResponseImpl,UNSAFE_FetchersContext:()=>FetchersContext,UNSAFE_FrameworkContext:()=>FrameworkContext,UNSAFE_LocationContext:()=>LocationContext,UNSAFE_NavigationContext:()=>NavigationContext,UNSAFE_RemixErrorBoundary:()=>RemixErrorBoundary,UNSAFE_RouteContext:()=>RouteContext,UNSAFE_ServerMode:()=>ServerMode,UNSAFE_SingleFetchRedirectSymbol:()=>SingleFetchRedirectSymbol,UNSAFE_ViewTransitionContext:()=>ViewTransitionContext,UNSAFE_createBrowserHistory:()=>createBrowserHistory,UNSAFE_createClientRoutes:()=>createClientRoutes,UNSAFE_createClientRoutesWithHMRRevalidationOptOut:()=>createClientRoutesWithHMRRevalidationOptOut,UNSAFE_createRouter:()=>createRouter,UNSAFE_decodeViaTurboStream:()=>decodeViaTurboStream,UNSAFE_deserializeErrors:()=>deserializeErrors2,UNSAFE_getPatchRoutesOnNavigationFunction:()=>getPatchRoutesOnNavigationFunction,UNSAFE_getSingleFetchDataStrategy:()=>getSingleFetchDataStrategy,UNSAFE_invariant:()=>invariant,UNSAFE_mapRouteProperties:()=>mapRouteProperties,UNSAFE_shouldHydrateRouteLoader:()=>shouldHydrateRouteLoader,UNSAFE_useFogOFWarDiscovery:()=>useFogOFWarDiscovery,UNSAFE_useScrollRestoration:()=>useScrollRestoration,createBrowserRouter:()=>createBrowserRouter,createCookie:()=>createCookie,createCookieSessionStorage:()=>createCookieSessionStorage,createHashRouter:()=>createHashRouter,createMemoryRouter:()=>createMemoryRouter,createMemorySessionStorage:()=>createMemorySessionStorage,createPath:()=>createPath,createRequestHandler:()=>createRequestHandler,createRoutesFromChildren:()=>createRoutesFromChildren,createRoutesFromElements:()=>createRoutesFromElements,createRoutesStub:()=>createRoutesStub,createSearchParams:()=>createSearchParams,createSession:()=>createSession,createSessionStorage:()=>createSessionStorage,createStaticHandler:()=>createStaticHandler2,createStaticRouter:()=>createStaticRouter,data:()=>data,generatePath:()=>generatePath,isCookie:()=>isCookie,isRouteErrorResponse:()=>isRouteErrorResponse,isSession:()=>isSession,matchPath:()=>matchPath,matchRoutes:()=>matchRoutes,parsePath:()=>parsePath,redirect:()=>redirect,redirectDocument:()=>redirectDocument,renderMatches:()=>renderMatches,replace:()=>replace,resolvePath:()=>resolvePath,unstable_HistoryRouter:()=>HistoryRouter,unstable_setDevServerHooks:()=>setDevServerHooks,unstable_usePrompt:()=>usePrompt,useActionData:()=>useActionData,useAsyncError:()=>useAsyncError,useAsyncValue:()=>useAsyncValue,useBeforeUnload:()=>useBeforeUnload,useBlocker:()=>useBlocker,useFetcher:()=>useFetcher,useFetchers:()=>useFetchers,useFormAction:()=>useFormAction,useHref:()=>useHref,useInRouterContext:()=>useInRouterContext,useLinkClickHandler:()=>useLinkClickHandler,useLoaderData:()=>useLoaderData,useLocation:()=>useLocation,useMatch:()=>useMatch,useMatches:()=>useMatches,useNavigate:()=>useNavigate,useNavigation:()=>useNavigation,useNavigationType:()=>useNavigationType,useOutlet:()=>useOutlet,useOutletContext:()=>useOutletContext,useParams:()=>useParams,useResolvedPath:()=>useResolvedPath,useRevalidator:()=>useRevalidator,useRouteError:()=>useRouteError,useRouteLoaderData:()=>useRouteLoaderData,useRoutes:()=>useRoutes,useSearchParams:()=>useSearchParams,useSubmit:()=>useSubmit,useViewTransitionState:()=>useViewTransitionState}),module.exports=__toCommonJS(react_router_exports);var Action=(e=>(e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE",e))(Action||{}),PopStateEventType="popstate";function createMemoryHistory(e={}){let t,{initialEntries:r=["/"],initialIndex:a,v5Compat:o=!1}=e;t=r.map(((e,t)=>c(e,"string"==typeof e?null:e.state,0===t?"default":void 0)));let n=l(null==a?t.length-1:a),i="POP",s=null;function l(e){return Math.min(Math.max(e,0),t.length-1)}function u(){return t[n]}function c(e,r=null,a){let o=createLocation(t?u().pathname:"/",e,r,a);return warning("/"===o.pathname.charAt(0),`relative pathnames are not supported in memory history: ${JSON.stringify(e)}`),o}function d(e){return"string"==typeof e?e:createPath(e)}return{get index(){return n},get action(){return i},get location(){return u()},createHref:d,createURL:e=>new URL(d(e),"http://localhost"),encodeLocation(e){let t="string"==typeof e?parsePath(e):e;return{pathname:t.pathname||"",search:t.search||"",hash:t.hash||""}},push(e,r){i="PUSH";let a=c(e,r);n+=1,t.splice(n,t.length,a),o&&s&&s({action:i,location:a,delta:1})},replace(e,r){i="REPLACE";let a=c(e,r);t[n]=a,o&&s&&s({action:i,location:a,delta:0})},go(e){i="POP";let r=l(n+e),a=t[r];n=r,s&&s({action:i,location:a,delta:e})},listen:e=>(s=e,()=>{s=null})}}function createBrowserHistory(e={}){return getUrlBasedHistory((function(e,t){let{pathname:r,search:a,hash:o}=e.location;return createLocation("",{pathname:r,search:a,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:createPath(t)}),null,e)}function createHashHistory(e={}){return getUrlBasedHistory((function(e,t){let{pathname:r="/",search:a="",hash:o=""}=parsePath(e.location.hash.substring(1));return r.startsWith("/")||r.startsWith(".")||(r="/"+r),createLocation("",{pathname:r,search:a,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let r=e.document.querySelector("base"),a="";if(r&&r.getAttribute("href")){let t=e.location.href,r=t.indexOf("#");a=-1===r?t:t.slice(0,r)}return a+"#"+("string"==typeof t?t:createPath(t))}),(function(e,t){warning("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}),e)}function invariant(e,t){if(!1===e||null==e)throw new Error(t)}function warning(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(e,t){return{usr:e.state,key:e.key,idx:t}}function createLocation(e,t,r=null,a){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?parsePath(t):t,state:r,key:t&&t.key||a||createKey()}}function createPath({pathname:e="/",search:t="",hash:r=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function parsePath(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function getUrlBasedHistory(e,t,r,a={}){let{window:o=document.defaultView,v5Compat:n=!1}=a,i=o.history,s="POP",l=null,u=c();function c(){return(i.state||{idx:null}).idx}function d(){s="POP";let e=c(),t=null==e?null:e-u;u=e,l&&l({action:s,location:m.location,delta:t})}function h(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,r="string"==typeof e?e:createPath(e);return r=r.replace(/ $/,"%20"),invariant(t,`No window.location.(origin|href) available to create URL for href: ${r}`),new URL(r,t)}null==u&&(u=0,i.replaceState({...i.state,idx:u},""));let m={get action(){return s},get location(){return e(o,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,d),l=e,()=>{o.removeEventListener(PopStateEventType,d),l=null}},createHref:e=>t(o,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let a=createLocation(m.location,e,t);r&&r(a,e),u=c()+1;let d=getHistoryState(a,u),h=m.createHref(a);try{i.pushState(d,"",h)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;o.location.assign(h)}n&&l&&l({action:s,location:m.location,delta:1})},replace:function(e,t){s="REPLACE";let a=createLocation(m.location,e,t);r&&r(a,e),u=c();let o=getHistoryState(a,u),d=m.createHref(a);i.replaceState(o,"",d),n&&l&&l({action:s,location:m.location,delta:0})},go:e=>i.go(e)};return m}var immutableRouteKeys=new Set(["lazy","caseSensitive","path","id","index","children"]);function isIndexRoute(e){return!0===e.index}function convertRoutesToDataRoutes(e,t,r=[],a={}){return e.map(((e,o)=>{let n=[...r,String(o)],i="string"==typeof e.id?e.id:n.join("-");if(invariant(!0!==e.index||!e.children,"Cannot specify children on an index route"),invariant(!a[i],`Found a route id collision on id "${i}".  Route id's must be globally unique within Data Router usages`),isIndexRoute(e)){let r={...e,...t(e),id:i};return a[i]=r,r}{let r={...e,...t(e),id:i,children:void 0};return a[i]=r,e.children&&(r.children=convertRoutesToDataRoutes(e.children,t,n,a)),r}}))}function matchRoutes(e,t,r="/"){return matchRoutesImpl(e,t,r,!1)}function matchRoutesImpl(e,t,r,a){let o=stripBasename(("string"==typeof t?parsePath(t):t).pathname||"/",r);if(null==o)return null;let n=flattenRoutes(e);rankRouteBranches(n);let i=null;for(let e=0;null==i&&e<n.length;++e){let t=decodePath(o);i=matchRouteBranch(n[e],t,a)}return i}function convertRouteMatchToUiMatch(e,t){let{route:r,pathname:a,params:o}=e;return{id:r.id,pathname:a,params:o,data:t[r.id],handle:r.handle}}function flattenRoutes(e,t=[],r=[],a=""){let o=(e,o,n)=>{let i={relativePath:void 0===n?e.path||"":n,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(invariant(i.relativePath.startsWith(a),`Absolute route path "${i.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),i.relativePath=i.relativePath.slice(a.length));let s=joinPaths([a,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(invariant(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${s}".`),flattenRoutes(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:computeScore(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of explodeOptionalSegments(e.path))o(e,t,r);else o(e,t)})),t}function explodeOptionalSegments(e){let t=e.split("/");if(0===t.length)return[];let[r,...a]=t,o=r.endsWith("?"),n=r.replace(/\?$/,"");if(0===a.length)return o?[n,""]:[n];let i=explodeOptionalSegments(a.join("/")),s=[];return s.push(...i.map((e=>""===e?n:[n,e].join("/")))),o&&s.push(...i),s.map((t=>e.startsWith("/")&&""===t?"/":t))}function rankRouteBranches(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:compareIndexes(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>"*"===e;function computeScore(e,t){let r=e.split("/"),a=r.length;return r.some(isSplat)&&(a+=splatPenalty),t&&(a+=indexRouteValue),r.filter((e=>!isSplat(e))).reduce(((e,t)=>e+(paramRe.test(t)?dynamicSegmentValue:""===t?emptySegmentValue:staticSegmentValue)),a)}function compareIndexes(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]))?e[e.length-1]-t[t.length-1]:0}function matchRouteBranch(e,t,r=!1){let{routesMeta:a}=e,o={},n="/",i=[];for(let e=0;e<a.length;++e){let s=a[e],l=e===a.length-1,u="/"===n?t:t.slice(n.length)||"/",c=matchPath({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u),d=s.route;if(!c&&l&&r&&!a[a.length-1].route.index&&(c=matchPath({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},u)),!c)return null;Object.assign(o,c.params),i.push({params:o,pathname:joinPaths([n,c.pathname]),pathnameBase:normalizePathname(joinPaths([n,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(n=joinPaths([n,c.pathnameBase]))}return i}function generatePath(e,t={}){let r=e;r.endsWith("*")&&"*"!==r&&!r.endsWith("/*")&&(warning(!1,`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`),r=r.replace(/\*$/,"/*"));const a=r.startsWith("/")?"/":"",o=e=>null==e?"":"string"==typeof e?e:String(e);return a+r.split(/\/+/).map(((e,r,a)=>{if(r===a.length-1&&"*"===e){return o(t["*"])}const n=e.match(/^:([\w-]+)(\??)$/);if(n){const[,e,r]=n;let a=t[e];return invariant("?"===r||null!=a,`Missing ":${e}" param`),o(a)}return e.replace(/\?$/g,"")})).filter((e=>!!e)).join("/")}function matchPath(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=compilePath(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let n=o[0],i=n.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:a.reduce(((e,{paramName:t,isOptional:r},a)=>{if("*"===t){let e=s[a]||"";i=n.slice(0,n.length-e.length).replace(/(.)\/+$/,"$1")}const o=s[a];return e[t]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{}),pathname:n,pathnameBase:i,pattern:e}}function compilePath(e,t=!1,r=!0){warning("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(a.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(a.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function decodePath(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return warning(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function stripBasename(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&"/"!==a?null:e.slice(r)||"/"}function resolvePath(e,t="/"){let{pathname:r,search:a="",hash:o=""}="string"==typeof e?parsePath(e):e;return{pathname:r?r.startsWith("/")?r:resolvePathname(r,t):t,search:normalizeSearch(a),hash:normalizeHash(o)}}function resolvePathname(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}function getInvalidPathError(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function getResolveToMatches(e){let t=getPathContributingMatches(e);return t.map(((e,r)=>r===t.length-1?e.pathname:e.pathnameBase))}function resolveTo(e,t,r,a=!1){let o;"string"==typeof e?o=parsePath(e):(o={...e},invariant(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let n,i=""===e||""===o.pathname,s=i?"/":o.pathname;if(null==s)n=r;else{let e=t.length-1;if(!a&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}n=e>=0?t[e]:"/"}let l=resolvePath(o,n),u=s&&"/"!==s&&s.endsWith("/"),c=(i||"."===s)&&r.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}var joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",normalizeHash=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",DataWithResponseInit=class{constructor(e,t){this.type="DataWithResponseInit",this.data=e,this.init=t||null}};function data(e,t){return new DataWithResponseInit(e,"number"==typeof t?{status:t}:t)}var redirect=(e,t=302)=>{let r=t;"number"==typeof r?r={status:r}:void 0===r.status&&(r.status=302);let a=new Headers(r.headers);return a.set("Location",e),new Response(null,{...r,headers:a})},redirectDocument=(e,t)=>{let r=redirect(e,t);return r.headers.set("X-Remix-Reload-Document","true"),r},replace=(e,t)=>{let r=redirect(e,t);return r.headers.set("X-Remix-Replace","true"),r},ErrorResponseImpl=class{constructor(e,t,r,a=!1){this.status=e,this.statusText=t||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function isRouteErrorResponse(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"],validMutationMethods=new Set(validMutationMethodsArr),validRequestMethodsArr=["GET",...validMutationMethodsArr],validRequestMethods=new Set(validRequestMethodsArr),redirectStatusCodes=new Set([301,302,303,307,308]),redirectPreserveMethodStatusCodes=new Set([307,308]),IDLE_NAVIGATION={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_FETCHER={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IDLE_BLOCKER={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,defaultMapRouteProperties=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),TRANSITIONS_STORAGE_KEY="remix-router-transitions",ResetLoaderDataSymbol=Symbol("ResetLoaderData");function createRouter(e){const t=e.window?e.window:"undefined"!=typeof window?window:void 0,r=void 0!==t&&void 0!==t.document&&void 0!==t.document.createElement;invariant(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a,o,n,i=e.mapRouteProperties||defaultMapRouteProperties,s={},l=convertRoutesToDataRoutes(e.routes,i,void 0,s),u=e.basename||"/",c=e.dataStrategy||defaultDataStrategy,d=e.patchRoutesOnNavigation,h={...e.future},m=null,p=new Set,f=null,R=null,y=null,g=null!=e.hydrationData,v=matchRoutes(l,e.history.location,u),S=!1,E=null;if(null==v&&!d){let t=getInternalRouterError(404,{pathname:e.history.location.pathname}),{matches:r,route:a}=getShortCircuitMatches(l);v=r,E={[a.id]:t}}if(v&&!e.hydrationData){de(v,l,e.history.location.pathname).active&&(v=null)}if(v)if(v.some((e=>e.route.lazy)))o=!1;else if(v.some((e=>e.route.loader))){let t=e.hydrationData?e.hydrationData.loaderData:null,r=e.hydrationData?e.hydrationData.errors:null;if(r){let e=v.findIndex((e=>void 0!==r[e.route.id]));o=v.slice(0,e+1).every((e=>!shouldLoadRouteOnHydration(e.route,t,r)))}else o=v.every((e=>!shouldLoadRouteOnHydration(e.route,t,r)))}else o=!0;else{o=!1,v=[];let t=de(null,l,e.history.location.pathname);t.active&&t.matches&&(S=!0,v=t.matches)}let w,b,C={historyAction:e.history.action,location:e.history.location,matches:v,initialized:o,navigation:IDLE_NAVIGATION,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},x="POP",D=!1,L=!1,P=new Map,_=null,k=!1,T=!1,M=new Set,A=new Map,F=0,O=-1,I=new Map,H=new Set,N=new Map,U=new Map,B=new Set,$=new Map,j=null;function z(e,t={}){C={...C,...e};let r=[],a=[];C.fetchers.forEach(((e,t)=>{"idle"===e.state&&(B.has(t)?r.push(t):a.push(t))})),B.forEach((e=>{C.fetchers.has(e)||A.has(e)||r.push(e)})),[...p].forEach((e=>e(C,{deletedFetchers:r,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync}))),r.forEach((e=>ee(e))),a.forEach((e=>C.fetchers.delete(e)))}function q(t,r,{flushSync:o}={}){let n,i=null!=C.actionData&&null!=C.navigation.formMethod&&isMutationMethod(C.navigation.formMethod)&&"loading"===C.navigation.state&&!0!==t.state?._isRedirect;n=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:i?C.actionData:null;let s=r.loaderData?mergeLoaderData(C.loaderData,r.loaderData,r.matches||[],r.errors):C.loaderData,u=C.blockers;u.size>0&&(u=new Map(u),u.forEach(((e,t)=>u.set(t,IDLE_BLOCKER))));let c,d=!0===D||null!=C.navigation.formMethod&&isMutationMethod(C.navigation.formMethod)&&!0!==t.state?._isRedirect;if(a&&(l=a,a=void 0),k||"POP"===x||("PUSH"===x?e.history.push(t,t.state):"REPLACE"===x&&e.history.replace(t,t.state)),"POP"===x){let e=P.get(C.location.pathname);e&&e.has(t.pathname)?c={currentLocation:C.location,nextLocation:t}:P.has(t.pathname)&&(c={currentLocation:t,nextLocation:C.location})}else if(L){let e=P.get(C.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),P.set(C.location.pathname,e)),c={currentLocation:C.location,nextLocation:t}}z({...r,actionData:n,loaderData:s,historyAction:x,location:t,initialized:!0,navigation:IDLE_NAVIGATION,revalidation:"idle",restoreScrollPosition:ce(t,r.matches||C.matches),preventScrollReset:d,blockers:u},{viewTransitionOpts:c,flushSync:!0===o}),x="POP",D=!1,L=!1,k=!1,T=!1,j?.resolve(),j=null}async function V(t,r,o){w&&w.abort(),w=null,x=t,k=!0===(o&&o.startUninterruptedRevalidation),function(e,t){if(f&&y){let r=ue(e,t);f[r]=y()}}(C.location,C.matches),D=!0===(o&&o.preventScrollReset),L=!0===(o&&o.enableViewTransition);let n=a||l,i=o&&o.overrideNavigation,s=o?.initialHydration&&C.matches&&C.matches.length>0&&!S?C.matches:matchRoutes(n,r,u),c=!0===(o&&o.flushSync);if(s&&C.initialized&&!T&&isHashChangeOnly(C.location,r)&&!(o&&o.submission&&isMutationMethod(o.submission.formMethod)))return void q(r,{matches:s},{flushSync:c});let d=de(s,n,r.pathname);if(d.active&&d.matches&&(s=d.matches),!s){let{error:e,notFoundMatches:t,route:a}=le(r.pathname);return void q(r,{matches:t,loaderData:{},errors:{[a.id]:e}},{flushSync:c})}w=new AbortController;let h,m=createClientSideRequest(e.history,r,w.signal,o&&o.submission);if(o&&o.pendingError)h=[findNearestBoundary(s).route.id,{type:"error",error:o.pendingError}];else if(o&&o.submission&&isMutationMethod(o.submission.formMethod)){let t=await async function(e,t,r,a,o,n={}){Y();let i,s=getSubmittingNavigation(t,r);if(z({navigation:s},{flushSync:!0===n.flushSync}),o){let r=await he(a,t.pathname,e.signal);if("aborted"===r.type)return{shortCircuited:!0};if("error"===r.type){let e=findNearestBoundary(r.partialMatches).route.id;return{matches:r.partialMatches,pendingActionResult:[e,{type:"error",error:r.error}]}}if(!r.matches){let{notFoundMatches:e,error:r,route:a}=le(t.pathname);return{matches:e,pendingActionResult:[a.id,{type:"error",error:r}]}}a=r.matches}let l=getTargetMatch(a,t);if(l.route.action||l.route.lazy){if(i=(await G("action",C,e,[l],a,null))[l.route.id],e.signal.aborted)return{shortCircuited:!0}}else i={type:"error",error:getInternalRouterError(405,{method:e.method,pathname:t.pathname,routeId:l.route.id})};if(isRedirectResult(i)){let t;if(n&&null!=n.replace)t=n.replace;else{t=normalizeRedirectLocation(i.response.headers.get("Location"),new URL(e.url),u)===C.location.pathname+C.location.search}return await K(e,i,!0,{submission:r,replace:t}),{shortCircuited:!0}}if(isErrorResult(i)){let e=findNearestBoundary(a,l.route.id);return!0!==(n&&n.replace)&&(x="PUSH"),{matches:a,pendingActionResult:[e.route.id,i]}}return{matches:a,pendingActionResult:[l.route.id,i]}}(m,r,o.submission,s,d.active,{replace:o.replace,flushSync:c});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,a]=t.pendingActionResult;if(isErrorResult(a)&&isRouteErrorResponse(a.error)&&404===a.error.status)return w=null,void q(r,{matches:t.matches,loaderData:{},errors:{[e]:a.error}})}s=t.matches||s,h=t.pendingActionResult,i=getLoadingNavigation(r,o.submission),c=!1,d.active=!1,m=createClientSideRequest(e.history,m.url,m.signal)}let{shortCircuited:p,matches:R,loaderData:g,errors:v}=await async function(t,r,o,n,i,s,c,d,h,m,p){let f=i||getLoadingNavigation(r,s),R=s||c||getSubmissionFromNavigation(f),y=!k&&!h;if(n){if(y){let e=W(p);z({navigation:f,...void 0!==e?{actionData:e}:{}},{flushSync:m})}let e=await he(o,r.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=findNearestBoundary(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:a}=le(r.pathname);return{matches:t,loaderData:{},errors:{[a.id]:e}}}o=e.matches}let g=a||l,[v,S]=getMatchesToLoad(e.history,C,o,R,r,!0===h,T,M,B,N,H,g,u,p);if(O=++F,0===v.length&&0===S.length){let e=ae();return q(r,{matches:o,loaderData:{},errors:p&&isErrorResult(p[1])?{[p[0]]:p[1].error}:null,...getActionDataForCommit(p),...e?{fetchers:new Map(C.fetchers)}:{}},{flushSync:m}),{shortCircuited:!0}}if(y){let e={};if(!n){e.navigation=f;let t=W(p);void 0!==t&&(e.actionData=t)}S.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=C.fetchers.get(e.key),r=getLoadingFetcher(void 0,t?t.data:void 0);C.fetchers.set(e.key,r)})),new Map(C.fetchers)}(S)),z(e,{flushSync:m})}S.forEach((e=>{te(e.key),e.controller&&A.set(e.key,e.controller)}));let E=()=>S.forEach((e=>te(e.key)));w&&w.signal.addEventListener("abort",E);let{loaderResults:b,fetcherResults:x}=await J(C,o,v,S,t);if(t.signal.aborted)return{shortCircuited:!0};w&&w.signal.removeEventListener("abort",E);S.forEach((e=>A.delete(e.key)));let D=findRedirect(b);if(D)return await K(t,D.result,!0,{replace:d}),{shortCircuited:!0};if(D=findRedirect(x),D)return H.add(D.key),await K(t,D.result,!0,{replace:d}),{shortCircuited:!0};let{loaderData:L,errors:P}=processLoaderData(C,o,b,p,S,x);h&&C.errors&&(P={...C.errors,...P});let _=ae(),I=oe(O),U=_||I||S.length>0;return{matches:o,loaderData:L,errors:P,...U?{fetchers:new Map(C.fetchers)}:{}}}(m,r,s,d.active,i,o&&o.submission,o&&o.fetcherSubmission,o&&o.replace,o&&!0===o.initialHydration,c,h);p||(w=null,q(r,{matches:R||s,...getActionDataForCommit(h),loaderData:g,errors:v}))}function W(e){return e&&!isErrorResult(e[1])?{[e[0]]:e[1].data}:C.actionData?0===Object.keys(C.actionData).length?null:C.actionData:void 0}async function K(a,o,n,{submission:i,fetcherSubmission:s,preventScrollReset:l,replace:c}={}){o.response.headers.has("X-Remix-Revalidate")&&(T=!0);let d=o.response.headers.get("Location");invariant(d,"Expected a Location header on the redirect Response"),d=normalizeRedirectLocation(d,new URL(a.url),u);let h=createLocation(C.location,d,{_isRedirect:!0});if(r){let r=!1;if(o.response.headers.has("X-Remix-Reload-Document"))r=!0;else if(ABSOLUTE_URL_REGEX.test(d)){const a=e.history.createURL(d);r=a.origin!==t.location.origin||null==stripBasename(a.pathname,u)}if(r)return void(c?t.location.replace(d):t.location.assign(d))}w=null;let m=!0===c||o.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:p,formAction:f,formEncType:R}=C.navigation;!i&&!s&&p&&f&&R&&(i=getSubmissionFromNavigation(C.navigation));let y=i||s;if(redirectPreserveMethodStatusCodes.has(o.response.status)&&y&&isMutationMethod(y.formMethod))await V(m,h,{submission:{...y,formAction:d},preventScrollReset:l||D,enableViewTransition:n?L:void 0});else{let e=getLoadingNavigation(h,i);await V(m,h,{overrideNavigation:e,fetcherSubmission:s,preventScrollReset:l||D,enableViewTransition:n?L:void 0})}}async function G(e,t,r,a,o,n){let l,d={};try{l=await callDataStrategyImpl(c,e,t,r,a,o,n,s,i)}catch(e){return a.forEach((t=>{d[t.route.id]={type:"error",error:e}})),d}for(let[e,t]of Object.entries(l))if(isRedirectDataStrategyResult(t)){let a=t.result;d[e]={type:"redirect",response:normalizeRelativeRoutingRedirectResponse(a,r,e,o,u)}}else d[e]=await convertDataStrategyResultToDataResult(t);return d}async function J(t,r,a,o,n){let i=G("loader",t,n,a,r,null),s=Promise.all(o.map((async r=>{if(r.matches&&r.match&&r.controller){let a=(await G("loader",t,createClientSideRequest(e.history,r.path,r.controller.signal),[r.match],r.matches,r.key))[r.match.route.id];return{[r.key]:a}}return Promise.resolve({[r.key]:{type:"error",error:getInternalRouterError(404,{pathname:r.path})}})})));return{loaderResults:await i,fetcherResults:(await s).reduce(((e,t)=>Object.assign(e,t)),{})}}function Y(){T=!0,N.forEach(((e,t)=>{A.has(t)&&M.add(t),te(t)}))}function X(e,t,r={}){C.fetchers.set(e,t),z({fetchers:new Map(C.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Q(e,t,r,a={}){let o=findNearestBoundary(C.matches,t);ee(e),z({errors:{[o.route.id]:r},fetchers:new Map(C.fetchers)},{flushSync:!0===(a&&a.flushSync)})}function Z(e){return U.set(e,(U.get(e)||0)+1),B.has(e)&&B.delete(e),C.fetchers.get(e)||IDLE_FETCHER}function ee(e){let t=C.fetchers.get(e);!A.has(e)||t&&"loading"===t.state&&I.has(e)||te(e),N.delete(e),I.delete(e),H.delete(e),B.delete(e),M.delete(e),C.fetchers.delete(e)}function te(e){let t=A.get(e);t&&(t.abort(),A.delete(e))}function re(e){for(let t of e){let e=getDoneFetcher(Z(t).data);C.fetchers.set(t,e)}}function ae(){let e=[],t=!1;for(let r of H){let a=C.fetchers.get(r);invariant(a,`Expected fetcher: ${r}`),"loading"===a.state&&(H.delete(r),e.push(r),t=!0)}return re(e),t}function oe(e){let t=[];for(let[r,a]of I)if(a<e){let e=C.fetchers.get(r);invariant(e,`Expected fetcher: ${r}`),"loading"===e.state&&(te(r),I.delete(r),t.push(r))}return re(t),t.length>0}function ne(e){C.blockers.delete(e),$.delete(e)}function ie(e,t){let r=C.blockers.get(e)||IDLE_BLOCKER;invariant("unblocked"===r.state&&"blocked"===t.state||"blocked"===r.state&&"blocked"===t.state||"blocked"===r.state&&"proceeding"===t.state||"blocked"===r.state&&"unblocked"===t.state||"proceeding"===r.state&&"unblocked"===t.state,`Invalid blocker state transition: ${r.state} -> ${t.state}`);let a=new Map(C.blockers);a.set(e,t),z({blockers:a})}function se({currentLocation:e,nextLocation:t,historyAction:r}){if(0===$.size)return;$.size>1&&warning(!1,"A router only supports one blocker at a time");let a=Array.from($.entries()),[o,n]=a[a.length-1],i=C.blockers.get(o);return i&&"proceeding"===i.state?void 0:n({currentLocation:e,nextLocation:t,historyAction:r})?o:void 0}function le(e){let t=getInternalRouterError(404,{pathname:e}),r=a||l,{matches:o,route:n}=getShortCircuitMatches(r);return{notFoundMatches:o,route:n,error:t}}function ue(e,t){if(R){return R(e,t.map((e=>convertRouteMatchToUiMatch(e,C.loaderData))))||e.key}return e.key}function ce(e,t){if(f){let r=ue(e,t),a=f[r];if("number"==typeof a)return a}return null}function de(e,t,r){if(d){if(!e){return{active:!0,matches:matchRoutesImpl(t,r,u,!0)||[]}}if(Object.keys(e[0].params).length>0){return{active:!0,matches:matchRoutesImpl(t,r,u,!0)}}}return{active:!1,matches:null}}async function he(e,t,r){if(!d)return{type:"success",matches:e};let o=e;for(;;){let e=null==a,n=a||l,c=s;try{await d({path:t,matches:o,patch:(e,t)=>{r.aborted||patchRoutesImpl(e,t,n,c,i)}})}catch(e){return{type:"error",error:e,partialMatches:o}}finally{e&&!r.aborted&&(l=[...l])}if(r.aborted)return{type:"aborted"};let h=matchRoutes(n,t,u);if(h)return{type:"success",matches:h};let m=matchRoutesImpl(n,t,u,!0);if(!m||o.length===m.length&&o.every(((e,t)=>e.route.id===m[t].route.id)))return{type:"success",matches:null};o=m}}return n={get basename(){return u},get future(){return h},get state(){return C},get routes(){return l},get window(){return t},initialize:function(){if(m=e.history.listen((({action:t,location:r,delta:a})=>{if(b)return b(),void(b=void 0);warning(0===$.size||null!=a,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=se({currentLocation:C.location,nextLocation:r,historyAction:t});if(o&&null!=a){let t=new Promise((e=>{b=e}));return e.history.go(-1*a),void ie(o,{state:"blocked",location:r,proceed(){ie(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),t.then((()=>e.history.go(a)))},reset(){let e=new Map(C.blockers);e.set(o,IDLE_BLOCKER),z({blockers:e})}})}return V(t,r)})),r){restoreAppliedTransitions(t,P);let e=()=>persistAppliedTransitions(t,P);t.addEventListener("pagehide",e),_=()=>t.removeEventListener("pagehide",e)}return C.initialized||V("POP",C.location,{initialHydration:!0}),n},subscribe:function(e){return p.add(e),()=>p.delete(e)},enableScrollRestoration:function(e,t,r){if(f=e,y=t,R=r||null,!g&&C.navigation===IDLE_NAVIGATION){g=!0;let e=ce(C.location,C.matches);null!=e&&z({restoreScrollPosition:e})}return()=>{f=null,y=null,R=null}},navigate:async function t(r,a){if("number"==typeof r)return void e.history.go(r);let o=normalizeTo(C.location,C.matches,u,r,a?.fromRouteId,a?.relative),{path:n,submission:i,error:s}=normalizeNavigateOptions(!1,o,a),l=C.location,c=createLocation(C.location,n,a&&a.state);c={...c,...e.history.encodeLocation(c)};let d=a&&null!=a.replace?a.replace:void 0,h="PUSH";!0===d?h="REPLACE":!1===d||null!=i&&isMutationMethod(i.formMethod)&&i.formAction===C.location.pathname+C.location.search&&(h="REPLACE");let m=a&&"preventScrollReset"in a?!0===a.preventScrollReset:void 0,p=!0===(a&&a.flushSync),f=se({currentLocation:l,nextLocation:c,historyAction:h});f?ie(f,{state:"blocked",location:c,proceed(){ie(f,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),t(r,a)},reset(){let e=new Map(C.blockers);e.set(f,IDLE_BLOCKER),z({blockers:e})}}):await V(h,c,{submission:i,pendingError:s,preventScrollReset:m,replace:a&&a.replace,enableViewTransition:a&&a.viewTransition,flushSync:p})},fetch:async function(t,r,o,n){te(t);let i=!0===(n&&n.flushSync),s=a||l,c=normalizeTo(C.location,C.matches,u,o,r,n?.relative),d=matchRoutes(s,c,u),h=de(d,s,c);if(h.active&&h.matches&&(d=h.matches),!d)return void Q(t,r,getInternalRouterError(404,{pathname:c}),{flushSync:i});let{path:m,submission:p,error:f}=normalizeNavigateOptions(!0,c,n);if(f)return void Q(t,r,f,{flushSync:i});let R=getTargetMatch(d,m),y=!0===(n&&n.preventScrollReset);p&&isMutationMethod(p.formMethod)?await async function(t,r,o,n,i,s,c,d,h){function m(e){if(!e.route.action&&!e.route.lazy){let e=getInternalRouterError(405,{method:h.formMethod,pathname:o,routeId:r});return Q(t,r,e,{flushSync:c}),!0}return!1}if(Y(),N.delete(t),!s&&m(n))return;let p=C.fetchers.get(t);X(t,getSubmittingFetcher(h,p),{flushSync:c});let f=new AbortController,R=createClientSideRequest(e.history,o,f.signal,h);if(s){let e=await he(i,o,R.signal);if("aborted"===e.type)return;if("error"===e.type)return void Q(t,r,e.error,{flushSync:c});if(!e.matches)return void Q(t,r,getInternalRouterError(404,{pathname:o}),{flushSync:c});if(m(n=getTargetMatch(i=e.matches,o)))return}A.set(t,f);let y=F,g=await G("action",C,R,[n],i,t),v=g[n.route.id];if(R.signal.aborted)return void(A.get(t)===f&&A.delete(t));if(B.has(t)){if(isRedirectResult(v)||isErrorResult(v))return void X(t,getDoneFetcher(void 0))}else{if(isRedirectResult(v))return A.delete(t),O>y?void X(t,getDoneFetcher(void 0)):(H.add(t),X(t,getLoadingFetcher(h)),K(R,v,!1,{fetcherSubmission:h,preventScrollReset:d}));if(isErrorResult(v))return void Q(t,r,v.error)}let S=C.navigation.location||C.location,E=createClientSideRequest(e.history,S,f.signal),b=a||l,D="idle"!==C.navigation.state?matchRoutes(b,C.navigation.location,u):C.matches;invariant(D,"Didn't find any matches after fetcher action");let L=++F;I.set(t,L);let P=getLoadingFetcher(h,v.data);C.fetchers.set(t,P);let[_,k]=getMatchesToLoad(e.history,C,D,h,S,!1,T,M,B,N,H,b,u,[n.route.id,v]);k.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,r=C.fetchers.get(t),a=getLoadingFetcher(void 0,r?r.data:void 0);C.fetchers.set(t,a),te(t),e.controller&&A.set(t,e.controller)})),z({fetchers:new Map(C.fetchers)});let U=()=>k.forEach((e=>te(e.key)));f.signal.addEventListener("abort",U);let{loaderResults:$,fetcherResults:j}=await J(C,D,_,k,E);if(f.signal.aborted)return;f.signal.removeEventListener("abort",U),I.delete(t),A.delete(t),k.forEach((e=>A.delete(e.key)));let V=findRedirect($);if(V)return K(E,V.result,!1,{preventScrollReset:d});if(V=findRedirect(j),V)return H.add(V.key),K(E,V.result,!1,{preventScrollReset:d});let{loaderData:W,errors:Z}=processLoaderData(C,D,$,void 0,k,j);if(C.fetchers.has(t)){let e=getDoneFetcher(v.data);C.fetchers.set(t,e)}oe(L),"loading"===C.navigation.state&&L>O?(invariant(x,"Expected pending action"),w&&w.abort(),q(C.navigation.location,{matches:D,loaderData:W,errors:Z,fetchers:new Map(C.fetchers)})):(z({errors:Z,loaderData:mergeLoaderData(C.loaderData,W,D,Z),fetchers:new Map(C.fetchers)}),T=!1)}(t,r,m,R,d,h.active,i,y,p):(N.set(t,{routeId:r,path:m}),await async function(t,r,a,o,n,i,s,l,u){let c=C.fetchers.get(t);X(t,getLoadingFetcher(u,c?c.data:void 0),{flushSync:s});let d=new AbortController,h=createClientSideRequest(e.history,a,d.signal);if(i){let e=await he(n,a,h.signal);if("aborted"===e.type)return;if("error"===e.type)return void Q(t,r,e.error,{flushSync:s});if(!e.matches)return void Q(t,r,getInternalRouterError(404,{pathname:a}),{flushSync:s});o=getTargetMatch(n=e.matches,a)}A.set(t,d);let m=F,p=await G("loader",C,h,[o],n,t),f=p[o.route.id];A.get(t)===d&&A.delete(t);if(h.signal.aborted)return;if(B.has(t))return void X(t,getDoneFetcher(void 0));if(isRedirectResult(f))return O>m?void X(t,getDoneFetcher(void 0)):(H.add(t),void await K(h,f,!1,{preventScrollReset:l}));if(isErrorResult(f))return void Q(t,r,f.error);X(t,getDoneFetcher(f.data))}(t,r,m,R,d,h.active,i,y,p))},revalidate:function(){j||(j=createDeferred()),Y(),z({revalidation:"loading"});let e=j.promise;return"submitting"===C.navigation.state?e:"idle"===C.navigation.state?(V(C.historyAction,C.location,{startUninterruptedRevalidation:!0}),e):(V(x||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation,enableViewTransition:!0===L}),e)},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Z,deleteFetcher:function(e){let t=(U.get(e)||0)-1;t<=0?(U.delete(e),B.add(e)):U.set(e,t),z({fetchers:new Map(C.fetchers)})},dispose:function(){m&&m(),_&&_(),p.clear(),w&&w.abort(),C.fetchers.forEach(((e,t)=>ee(t))),C.blockers.forEach(((e,t)=>ne(t)))},getBlocker:function(e,t){let r=C.blockers.get(e)||IDLE_BLOCKER;return $.get(e)!==t&&$.set(e,t),r},deleteBlocker:ne,patchRoutes:function(e,t){let r=null==a;patchRoutesImpl(e,t,a||l,s,i),r&&(l=[...l],z({}))},_internalFetchControllers:A,_internalSetRoutes:function(e){s={},a=convertRoutesToDataRoutes(e,i,void 0,s)}},n}function createStaticHandler(e,t){invariant(e.length>0,"You must provide a non-empty routes array to createStaticHandler");let r={},a=(t?t.basename:null)||"/",o=t?.mapRouteProperties||defaultMapRouteProperties,n=convertRoutesToDataRoutes(e,o,void 0,r);async function i(e,t,r,a,o,n,i){invariant(e.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(isMutationMethod(e.method)){let u=await async function(e,t,r,a,o,n,i){let u;if(r.route.action||r.route.lazy){u=(await l("action",e,[r],t,i,a,o))[r.route.id],e.signal.aborted&&throwStaticHandlerAbortedError(e,i)}else{let t=getInternalRouterError(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:r.route.id});if(i)throw t;u={type:"error",error:t}}if(isRedirectResult(u))throw new Response(null,{status:u.response.status,headers:{Location:u.response.headers.get("Location")}});if(i){if(isErrorResult(u))throw u.error;return{matches:[r],loaderData:{},actionData:{[r.route.id]:u.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{}}}let c=new Request(e.url,{headers:e.headers,redirect:e.redirect,signal:e.signal});if(isErrorResult(u)){let e=n?r:findNearestBoundary(t,r.route.id);return{...await s(c,t,a,o,n,null,[e.route.id,u]),statusCode:isRouteErrorResponse(u.error)?u.error.status:null!=u.statusCode?u.statusCode:500,actionData:null,actionHeaders:{...u.headers?{[r.route.id]:u.headers}:{}}}}let d=await s(c,t,a,o,n,null);return{...d,actionData:{[r.route.id]:u.data},...u.statusCode?{statusCode:u.statusCode}:{},actionHeaders:u.headers?{[r.route.id]:u.headers}:{}}}(e,r,i||getTargetMatch(r,t),a,o,n,null!=i);return u}let u=await s(e,r,a,o,n,i);return isResponse(u)?u:{...u,actionData:null,actionHeaders:{}}}catch(e){if(isDataStrategyResult(e)&&isResponse(e.result)){if("error"===e.type)throw e.result;return e.result}if(isRedirectResponse(e))return e;throw e}}async function s(e,t,r,a,o,n,i){let s=null!=n;if(s&&!n?.route.loader&&!n?.route.lazy)throw getInternalRouterError(400,{method:e.method,pathname:new URL(e.url).pathname,routeId:n?.route.id});let u=(n?[n]:i&&isErrorResult(i[1])?getLoaderMatchesUntilBoundary(t,i[0]):t).filter((e=>e.route.loader||e.route.lazy));if(0===u.length)return{matches:t,loaderData:t.reduce(((e,t)=>Object.assign(e,{[t.route.id]:null})),{}),errors:i&&isErrorResult(i[1])?{[i[0]]:i[1].error}:null,statusCode:200,loaderHeaders:{}};let c=await l("loader",e,u,t,s,r,a);e.signal.aborted&&throwStaticHandlerAbortedError(e,s);let d=processRouteLoaderData(t,c,i,!0,o),h=new Set(u.map((e=>e.route.id)));return t.forEach((e=>{h.has(e.route.id)||(d.loaderData[e.route.id]=null)})),{...d,matches:t}}async function l(e,t,n,i,s,l,u){let c=await callDataStrategyImpl(u||defaultDataStrategy,e,null,t,n,i,null,r,o,l),d={};return await Promise.all(i.map((async e=>{if(!(e.route.id in c))return;let r=c[e.route.id];if(isRedirectDataStrategyResult(r)){throw normalizeRelativeRoutingRedirectResponse(r.result,t,e.route.id,i,a)}if(isResponse(r.result)&&s)throw r;d[e.route.id]=await convertDataStrategyResultToDataResult(r)}))),d}return{dataRoutes:n,query:async function(e,{requestContext:t,skipLoaderErrorBubbling:r,dataStrategy:o}={}){let s=new URL(e.url),l=e.method,u=createLocation("",createPath(s),null,"default"),c=matchRoutes(n,u,a);if(!isValidMethod(l)&&"HEAD"!==l){let e=getInternalRouterError(405,{method:l}),{matches:t,route:r}=getShortCircuitMatches(n);return{basename:a,location:u,matches:t,loaderData:{},actionData:null,errors:{[r.id]:e},statusCode:e.status,loaderHeaders:{},actionHeaders:{}}}if(!c){let e=getInternalRouterError(404,{pathname:u.pathname}),{matches:t,route:r}=getShortCircuitMatches(n);return{basename:a,location:u,matches:t,loaderData:{},actionData:null,errors:{[r.id]:e},statusCode:e.status,loaderHeaders:{},actionHeaders:{}}}let d=await i(e,u,c,t,o||null,!0===r,null);return isResponse(d)?d:{location:u,basename:a,...d}},queryRoute:async function(e,{routeId:t,requestContext:r,dataStrategy:o}={}){let s=new URL(e.url),l=e.method,u=createLocation("",createPath(s),null,"default"),c=matchRoutes(n,u,a);if(!isValidMethod(l)&&"HEAD"!==l&&"OPTIONS"!==l)throw getInternalRouterError(405,{method:l});if(!c)throw getInternalRouterError(404,{pathname:u.pathname});let d=t?c.find((e=>e.route.id===t)):getTargetMatch(c,u);if(t&&!d)throw getInternalRouterError(403,{pathname:u.pathname,routeId:t});if(!d)throw getInternalRouterError(404,{pathname:u.pathname});let h=await i(e,u,c,r,o||null,!1,d);if(isResponse(h))return h;let m=h.errors?Object.values(h.errors)[0]:void 0;if(void 0!==m)throw m;return h.actionData?Object.values(h.actionData)[0]:h.loaderData?Object.values(h.loaderData)[0]:void 0}}}function getStaticContextFromError(e,t,r){return{...t,statusCode:isRouteErrorResponse(r)?r.status:500,errors:{[t._deepestRenderedBoundaryId||e[0].id]:r}}}function throwStaticHandlerAbortedError(e,t){if(void 0!==e.signal.reason)throw e.signal.reason;throw new Error(`${t?"queryRoute":"query"}() call aborted without an \`AbortSignal.reason\`: ${e.method} ${e.url}`)}function isSubmissionNavigation(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}function normalizeTo(e,t,r,a,o,n){let i,s;if(o){i=[];for(let e of t)if(i.push(e),e.route.id===o){s=e;break}}else i=t,s=t[t.length-1];let l=resolveTo(a||".",getResolveToMatches(i),stripBasename(e.pathname,r)||e.pathname,"path"===n);if(null==a&&(l.search=e.search,l.hash=e.hash),(null==a||""===a||"."===a)&&s){let e=hasNakedIndexQuery(l.search);if(s.route.index&&!e)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&e){let e=new URLSearchParams(l.search),t=e.getAll("index");e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let r=e.toString();l.search=r?`?${r}`:""}}return"/"!==r&&(l.pathname="/"===l.pathname?r:joinPaths([r,l.pathname])),createPath(l)}function normalizeNavigateOptions(e,t,r){if(!r||!isSubmissionNavigation(r))return{path:t};if(r.formMethod&&!isValidMethod(r.formMethod))return{path:t,error:getInternalRouterError(405,{method:r.formMethod})};let a,o,n=()=>({path:t,error:getInternalRouterError(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),s=stripHashFromPath(t);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!isMutationMethod(i))return n();let e="string"==typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,[t,r])=>`${e}${t}=${r}\n`),""):String(r.body);return{path:t,submission:{formMethod:i,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!isMutationMethod(i))return n();try{let e="string"==typeof r.body?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:i,formAction:s,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(e){return n()}}}if(invariant("function"==typeof FormData,"FormData is not available in this environment"),r.formData)a=convertFormDataToSearchParams(r.formData),o=r.formData;else if(r.body instanceof FormData)a=convertFormDataToSearchParams(r.body),o=r.body;else if(r.body instanceof URLSearchParams)a=r.body,o=convertSearchParamsToFormData(a);else if(null==r.body)a=new URLSearchParams,o=new FormData;else try{a=new URLSearchParams(r.body),o=convertSearchParamsToFormData(a)}catch(e){return n()}let l={formMethod:i,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(isMutationMethod(l.formMethod))return{path:t,submission:l};let u=parsePath(t);return e&&u.search&&hasNakedIndexQuery(u.search)&&a.append("index",""),u.search=`?${a}`,{path:createPath(u),submission:l}}function getLoaderMatchesUntilBoundary(e,t,r=!1){let a=e.findIndex((e=>e.route.id===t));return a>=0?e.slice(0,r?a+1:a):e}function getMatchesToLoad(e,t,r,a,o,n,i,s,l,u,c,d,h,m){let p=m?isErrorResult(m[1])?m[1].error:m[1].data:void 0,f=e.createURL(t.location),R=e.createURL(o),y=r;n&&t.errors?y=getLoaderMatchesUntilBoundary(r,Object.keys(t.errors)[0],!0):m&&isErrorResult(m[1])&&(y=getLoaderMatchesUntilBoundary(r,m[0]));let g=m?m[1].statusCode:void 0,v=g&&g>=400,S=y.filter(((e,r)=>{let{route:o}=e;if(o.lazy)return!0;if(null==o.loader)return!1;if(n)return shouldLoadRouteOnHydration(o,t.loaderData,t.errors);if(isNewLoader(t.loaderData,t.matches[r],e))return!0;let s=t.matches[r],l=e;return shouldRevalidateLoader(e,{currentUrl:f,currentParams:s.params,nextUrl:R,nextParams:l.params,...a,actionResult:p,actionStatus:g,defaultShouldRevalidate:!v&&(i||f.pathname+f.search===R.pathname+R.search||f.search!==R.search||isNewRouteInstance(s,l))})})),E=[];return u.forEach(((e,o)=>{if(n||!r.some((t=>t.route.id===e.routeId))||l.has(o))return;let u=matchRoutes(d,e.path,h);if(!u)return void E.push({key:o,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let m=t.fetchers.get(o),y=getTargetMatch(u,e.path),S=!1;c.has(o)?S=!1:s.has(o)?(s.delete(o),S=!0):S=m&&"idle"!==m.state&&void 0===m.data?i:shouldRevalidateLoader(y,{currentUrl:f,currentParams:t.matches[t.matches.length-1].params,nextUrl:R,nextParams:r[r.length-1].params,...a,actionResult:p,actionStatus:g,defaultShouldRevalidate:!v&&i}),S&&E.push({key:o,routeId:e.routeId,path:e.path,matches:u,match:y,controller:new AbortController})})),[S,E]}function shouldLoadRouteOnHydration(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let a=null!=t&&void 0!==t[e.id],o=null!=r&&void 0!==r[e.id];return!(!a&&o)&&("function"==typeof e.loader&&!0===e.loader.hydrate||!a&&!o)}function isNewLoader(e,t,r){let a=!t||r.route.id!==t.route.id,o=!e.hasOwnProperty(r.route.id);return a||o}function isNewRouteInstance(e,t){let r=e.route.path;return e.pathname!==t.pathname||null!=r&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function shouldRevalidateLoader(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if("boolean"==typeof r)return r}return t.defaultShouldRevalidate}function patchRoutesImpl(e,t,r,a,o){let n;if(e){let t=a[e];invariant(t,`No route found to patch children into: routeId = ${e}`),t.children||(t.children=[]),n=t.children}else n=r;let i=convertRoutesToDataRoutes(t.filter((e=>!n.some((t=>isSameRoute(e,t))))),o,[e||"_","patch",String(n?.length||"0")],a);n.push(...i)}function isSameRoute(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every(((e,r)=>t.children?.some((t=>isSameRoute(e,t))))))}async function loadLazyRouteModule(e,t,r){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let o=r[e.id];invariant(o,"No route found in manifest");let n={};for(let e in a){let t=void 0!==o[e]&&"hasErrorBoundary"!==e;warning(!t,`Route "${o.id}" has a static property "${e}" defined but its lazy function is also returning a value for this property. The lazy route property "${e}" will be ignored.`),t||immutableRouteKeys.has(e)||(n[e]=a[e])}Object.assign(o,n),Object.assign(o,{...t(o),lazy:void 0})}async function defaultDataStrategy({matches:e}){let t=e.filter((e=>e.shouldLoad));return(await Promise.all(t.map((e=>e.resolve())))).reduce(((e,r,a)=>Object.assign(e,{[t[a].route.id]:r})),{})}async function callDataStrategyImpl(e,t,r,a,o,n,i,s,l,u){let c=n.map((e=>e.route.lazy?loadLazyRouteModule(e.route,l,s):void 0)),d=n.map(((e,r)=>{let n=c[r],i=o.some((t=>t.route.id===e.route.id));return{...e,shouldLoad:i,resolve:async r=>(r&&"GET"===a.method&&(e.route.lazy||e.route.loader)&&(i=!0),i?callLoaderOrAction(t,a,e,n,r,u):Promise.resolve({type:"data",result:void 0}))}})),h=await e({matches:d,request:a,params:n[0].params,fetcherKey:i,context:u});try{await Promise.all(c)}catch(e){}return h}async function callLoaderOrAction(e,t,r,a,o,n){let i,s,l=a=>{let i,l=new Promise(((e,t)=>i=t));s=()=>i(),t.signal.addEventListener("abort",s);let u=o=>"function"!=typeof a?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${e}" [routeId: ${r.route.id}]`)):a({request:t,params:r.params,context:n},...void 0!==o?[o]:[]),c=(async()=>{try{return{type:"data",result:await(o?o((e=>u(e))):u())}}catch(e){return{type:"error",result:e}}})();return Promise.race([c,l])};try{let o=r.route[e];if(a)if(o){let e,[t]=await Promise.all([l(o).catch((t=>{e=t})),a]);if(void 0!==e)throw e;i=t}else{if(await a,o=r.route[e],!o){if("action"===e){let e=new URL(t.url),a=e.pathname+e.search;throw getInternalRouterError(405,{method:t.method,pathname:a,routeId:r.route.id})}return{type:"data",result:void 0}}i=await l(o)}else{if(!o){let e=new URL(t.url);throw getInternalRouterError(404,{pathname:e.pathname+e.search})}i=await l(o)}}catch(e){return{type:"error",result:e}}finally{s&&t.signal.removeEventListener("abort",s)}return i}async function convertDataStrategyResultToDataResult(e){let{result:t,type:r}=e;if(isResponse(t)){let e;try{let r=t.headers.get("Content-Type");e=r&&/\bapplication\/json\b/.test(r)?null==t.body?null:await t.json():await t.text()}catch(e){return{type:"error",error:e}}return"error"===r?{type:"error",error:new ErrorResponseImpl(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:"data",data:e,statusCode:t.status,headers:t.headers}}return"error"===r?isDataWithResponseInit(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new ErrorResponseImpl(t.init?.status||500,void 0,t.data),statusCode:isRouteErrorResponse(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:isRouteErrorResponse(t)?t.status:void 0}:isDataWithResponseInit(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function normalizeRelativeRoutingRedirectResponse(e,t,r,a,o){let n=e.headers.get("Location");if(invariant(n,"Redirects returned/thrown from loaders/actions must have a Location header"),!ABSOLUTE_URL_REGEX.test(n)){let i=a.slice(0,a.findIndex((e=>e.route.id===r))+1);n=normalizeTo(new URL(t.url),i,o,n),e.headers.set("Location",n)}return e}function normalizeRedirectLocation(e,t,r){if(ABSOLUTE_URL_REGEX.test(e)){let a=e,o=a.startsWith("//")?new URL(t.protocol+a):new URL(a),n=null!=stripBasename(o.pathname,r);if(o.origin===t.origin&&n)return o.pathname+o.search+o.hash}return e}function createClientSideRequest(e,t,r,a){let o=e.createURL(stripHashFromPath(t)).toString(),n={signal:r};if(a&&isMutationMethod(a.formMethod)){let{formMethod:e,formEncType:t}=a;n.method=e.toUpperCase(),"application/json"===t?(n.headers=new Headers({"Content-Type":t}),n.body=JSON.stringify(a.json)):"text/plain"===t?n.body=a.text:"application/x-www-form-urlencoded"===t&&a.formData?n.body=convertFormDataToSearchParams(a.formData):n.body=a.formData}return new Request(o,n)}function convertFormDataToSearchParams(e){let t=new URLSearchParams;for(let[r,a]of e.entries())t.append(r,"string"==typeof a?a:a.name);return t}function convertSearchParamsToFormData(e){let t=new FormData;for(let[r,a]of e.entries())t.append(r,a);return t}function processRouteLoaderData(e,t,r,a=!1,o=!1){let n,i={},s=null,l=!1,u={},c=r&&isErrorResult(r[1])?r[1].error:void 0;return e.forEach((r=>{if(!(r.route.id in t))return;let d=r.route.id,h=t[d];if(invariant(!isRedirectResult(h),"Cannot handle redirect results in processLoaderData"),isErrorResult(h)){let t=h.error;if(void 0!==c&&(t=c,c=void 0),s=s||{},o)s[d]=t;else{let r=findNearestBoundary(e,d);null==s[r.route.id]&&(s[r.route.id]=t)}a||(i[d]=ResetLoaderDataSymbol),l||(l=!0,n=isRouteErrorResponse(h.error)?h.error.status:500),h.headers&&(u[d]=h.headers)}else i[d]=h.data,h.statusCode&&200!==h.statusCode&&!l&&(n=h.statusCode),h.headers&&(u[d]=h.headers)})),void 0!==c&&r&&(s={[r[0]]:c},i[r[0]]=void 0),{loaderData:i,errors:s,statusCode:n||200,loaderHeaders:u}}function processLoaderData(e,t,r,a,o,n){let{loaderData:i,errors:s}=processRouteLoaderData(t,r,a);return o.forEach((t=>{let{key:r,match:a,controller:o}=t,i=n[r];if(invariant(i,"Did not find corresponding fetcher result"),!o||!o.signal.aborted)if(isErrorResult(i)){let t=findNearestBoundary(e.matches,a?.route.id);s&&s[t.route.id]||(s={...s,[t.route.id]:i.error}),e.fetchers.delete(r)}else if(isRedirectResult(i))invariant(!1,"Unhandled fetcher revalidation redirect");else{let t=getDoneFetcher(i.data);e.fetchers.set(r,t)}})),{loaderData:i,errors:s}}function mergeLoaderData(e,t,r,a){let o=Object.entries(t).filter((([,e])=>e!==ResetLoaderDataSymbol)).reduce(((e,[t,r])=>(e[t]=r,e)),{});for(let n of r){let r=n.route.id;if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&n.route.loader&&(o[r]=e[r]),a&&a.hasOwnProperty(r))break}return o}function getActionDataForCommit(e){return e?isErrorResult(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function findNearestBoundary(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function getShortCircuitMatches(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function getInternalRouterError(e,{pathname:t,routeId:r,method:a,type:o,message:n}={}){let i="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(i="Bad Request",a&&t&&r?s=`You made a ${a} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:"invalid-body"===o&&(s="Unable to encode submission body")):403===e?(i="Forbidden",s=`Route "${r}" does not match URL "${t}"`):404===e?(i="Not Found",s=`No route matches URL "${t}"`):405===e&&(i="Method Not Allowed",a&&t&&r?s=`You made a ${a.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:a&&(s=`Invalid request method "${a.toUpperCase()}"`)),new ErrorResponseImpl(e||500,i,new Error(s),!0)}function findRedirect(e){let t=Object.entries(e);for(let e=t.length-1;e>=0;e--){let[r,a]=t[e];if(isRedirectResult(a))return{key:r,result:a}}}function stripHashFromPath(e){return createPath({..."string"==typeof e?parsePath(e):e,hash:""})}function isHashChangeOnly(e,t){return e.pathname===t.pathname&&e.search===t.search&&(""===e.hash?""!==t.hash:e.hash===t.hash||""!==t.hash)}function isDataStrategyResult(e){return null!=e&&"object"==typeof e&&"type"in e&&"result"in e&&("data"===e.type||"error"===e.type)}function isRedirectDataStrategyResult(e){return isResponse(e.result)&&redirectStatusCodes.has(e.result.status)}function isErrorResult(e){return"error"===e.type}function isRedirectResult(e){return"redirect"===(e&&e.type)}function isDataWithResponseInit(e){return"object"==typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function isResponse(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}function isRedirectStatusCode(e){return redirectStatusCodes.has(e)}function isRedirectResponse(e){return isResponse(e)&&isRedirectStatusCode(e.status)&&e.headers.has("Location")}function isValidMethod(e){return validRequestMethods.has(e.toUpperCase())}function isMutationMethod(e){return validMutationMethods.has(e.toUpperCase())}function hasNakedIndexQuery(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function getTargetMatch(e,t){let r="string"==typeof t?parsePath(t).search:t.search;if(e[e.length-1].route.index&&hasNakedIndexQuery(r||""))return e[e.length-1];let a=getPathContributingMatches(e);return a[a.length-1]}function getSubmissionFromNavigation(e){let{formMethod:t,formAction:r,formEncType:a,text:o,formData:n,json:i}=e;if(t&&r&&a)return null!=o?{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:void 0,text:o}:null!=n?{formMethod:t,formAction:r,formEncType:a,formData:n,json:void 0,text:void 0}:void 0!==i?{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:i,text:void 0}:void 0}function getLoadingNavigation(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function getSubmittingNavigation(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function getLoadingFetcher(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function getSubmittingFetcher(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function getDoneFetcher(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function restoreAppliedTransitions(e,t){try{let r=e.sessionStorage.getItem(TRANSITIONS_STORAGE_KEY);if(r){let e=JSON.parse(r);for(let[r,a]of Object.entries(e||{}))a&&Array.isArray(a)&&t.set(r,new Set(a||[]))}}catch(e){}}function persistAppliedTransitions(e,t){if(t.size>0){let r={};for(let[e,a]of t)r[e]=[...a];try{e.sessionStorage.setItem(TRANSITIONS_STORAGE_KEY,JSON.stringify(r))}catch(e){warning(!1,`Failed to save applied view transitions in sessionStorage (${e}).`)}}}function createDeferred(){let e,t,r=new Promise(((a,o)=>{e=async e=>{a(e);try{await r}catch(e){}},t=async e=>{o(e);try{await r}catch(e){}}}));return{promise:r,resolve:e,reject:t}}var React3=__toESM(require("react")),React=__toESM(require("react")),DataRouterContext=React.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=React.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=React.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=React.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=React.createContext(null);AwaitContext.displayName="Await";var NavigationContext=React.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=React.createContext(null);LocationContext.displayName="Location";var RouteContext=React.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=React.createContext(null);RouteErrorContext.displayName="RouteError";var React2=__toESM(require("react")),ENABLE_DEV_WARNINGS=!0;function useHref(e,{relative:t}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=React2.useContext(NavigationContext),{hash:o,pathname:n,search:i}=useResolvedPath(e,{relative:t}),s=n;return"/"!==r&&(s="/"===n?r:joinPaths([r,n])),a.createHref({pathname:s,search:i,hash:o})}function useInRouterContext(){return null!=React2.useContext(LocationContext)}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),React2.useContext(LocationContext).location}function useNavigationType(){return React2.useContext(LocationContext).navigationType}function useMatch(e){invariant(useInRouterContext(),"useMatch() may be used only in the context of a <Router> component.");let{pathname:t}=useLocation();return React2.useMemo((()=>matchPath(e,decodePath(t))),[t,e])}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(e){React2.useContext(NavigationContext).static||React2.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=React2.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let e=React2.useContext(DataRouterContext),{basename:t,navigator:r}=React2.useContext(NavigationContext),{matches:a}=React2.useContext(RouteContext),{pathname:o}=useLocation(),n=JSON.stringify(getResolveToMatches(a)),i=React2.useRef(!1);return useIsomorphicLayoutEffect((()=>{i.current=!0})),React2.useCallback(((a,s={})=>{if(warning(i.current,navigateEffectWarning),!i.current)return;if("number"==typeof a)return void r.go(a);let l=resolveTo(a,JSON.parse(n),o,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:joinPaths([t,l.pathname])),(s.replace?r.replace:r.push)(l,s.state,s)}),[t,r,n,o,e])}var OutletContext=React2.createContext(null);function useOutletContext(){return React2.useContext(OutletContext)}function useOutlet(e){let t=React2.useContext(RouteContext).outlet;return t?React2.createElement(OutletContext.Provider,{value:e},t):t}function useParams(){let{matches:e}=React2.useContext(RouteContext),t=e[e.length-1];return t?t.params:{}}function useResolvedPath(e,{relative:t}={}){let{matches:r}=React2.useContext(RouteContext),{pathname:a}=useLocation(),o=JSON.stringify(getResolveToMatches(r));return React2.useMemo((()=>resolveTo(e,JSON.parse(o),a,"path"===t)),[e,o,a,t])}function useRoutes(e,t){return useRoutesImpl(e,t)}function useRoutesImpl(e,t,r,a){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:n}=React2.useContext(NavigationContext),{matches:i}=React2.useContext(RouteContext),s=i[i.length-1],l=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",d=s&&s.route;if(ENABLE_DEV_WARNINGS){let e=d&&d.path||"";warningOnce(u,!d||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let h,m=useLocation();if(t){let e="string"==typeof t?parsePath(t):t;invariant("/"===c||e.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${e.pathname}" was given in the \`location\` prop.`),h=e}else h=m;let p=h.pathname||"/",f=p;if("/"!==c){let e=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let R=!n&&r&&r.matches&&r.matches.length>0?r.matches:matchRoutes(e,{pathname:f});ENABLE_DEV_WARNINGS&&(warning(d||null!=R,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),warning(null==R||void 0!==R[R.length-1].route.element||void 0!==R[R.length-1].route.Component||void 0!==R[R.length-1].route.lazy,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`));let y=_renderMatches(R&&R.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:joinPaths([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:joinPaths([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,r,a);return t&&y?React2.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...h},navigationType:"POP"}},y):y}function DefaultErrorComponent(){let e=useRouteError(),t=isRouteErrorResponse(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},n={padding:"2px 4px",backgroundColor:a},i=null;return ENABLE_DEV_WARNINGS&&(console.error("Error handled by React Router default ErrorBoundary:",e),i=React2.createElement(React2.Fragment,null,React2.createElement("p",null,"💿 Hey developer 👋"),React2.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",React2.createElement("code",{style:n},"ErrorBoundary")," or"," ",React2.createElement("code",{style:n},"errorElement")," prop on your route."))),React2.createElement(React2.Fragment,null,React2.createElement("h2",null,"Unexpected Application Error!"),React2.createElement("h3",{style:{fontStyle:"italic"}},t),r?React2.createElement("pre",{style:o},r):null,i)}var defaultErrorElement=React2.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends React2.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?React2.createElement(RouteContext.Provider,{value:this.props.routeContext},React2.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:e,match:t,children:r}){let a=React2.useContext(DataRouterContext);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),React2.createElement(RouteContext.Provider,{value:e},r)}function _renderMatches(e,t=[],r=null,a=null){if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let o=e,n=r?.errors;if(null!=n){let e=o.findIndex((e=>e.route.id&&void 0!==n?.[e.route.id]));invariant(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(n).join(",")}`),o=o.slice(0,Math.min(o.length,e+1))}let i=!1,s=-1;if(r)for(let e=0;e<o.length;e++){let t=o[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(s=e),t.route.id){let{loaderData:e,errors:a}=r,n=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!a||void 0===a[t.route.id]);if(t.route.lazy||n){i=!0,o=s>=0?o.slice(0,s+1):[o[0]];break}}}return o.reduceRight(((e,a,l)=>{let u,c=!1,d=null,h=null;r&&(u=n&&a.route.id?n[a.route.id]:void 0,d=a.route.errorElement||defaultErrorElement,i&&(s<0&&0===l?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),c=!0,h=null):s===l&&(c=!0,h=a.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,l+1)),p=()=>{let t;return t=u?d:c?h:a.route.Component?React2.createElement(a.route.Component,null):a.route.element?a.route.element:e,React2.createElement(RenderedRoute,{match:a,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(a.route.ErrorBoundary||a.route.errorElement||0===l)?React2.createElement(RenderErrorBoundary,{location:r.location,revalidation:r.revalidation,component:d,error:u,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()}),null)}function getDataRouterConsoleError(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(e){let t=React2.useContext(DataRouterContext);return invariant(t,getDataRouterConsoleError(e)),t}function useDataRouterState(e){let t=React2.useContext(DataRouterStateContext);return invariant(t,getDataRouterConsoleError(e)),t}function useRouteContext(e){let t=React2.useContext(RouteContext);return invariant(t,getDataRouterConsoleError(e)),t}function useCurrentRouteId(e){let t=useRouteContext(e),r=t.matches[t.matches.length-1];return invariant(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useNavigation(){return useDataRouterState("useNavigation").navigation}function useRevalidator(){let e=useDataRouterContext("useRevalidator"),t=useDataRouterState("useRevalidator");return React2.useMemo((()=>({async revalidate(){await e.router.revalidate()},state:t.revalidation})),[e.router,t.revalidation])}function useMatches(){let{matches:e,loaderData:t}=useDataRouterState("useMatches");return React2.useMemo((()=>e.map((e=>convertRouteMatchToUiMatch(e,t)))),[e,t])}function useLoaderData(){let e=useDataRouterState("useLoaderData"),t=useCurrentRouteId("useLoaderData");return e.loaderData[t]}function useRouteLoaderData(e){return useDataRouterState("useRouteLoaderData").loaderData[e]}function useActionData(){let e=useDataRouterState("useActionData"),t=useCurrentRouteId("useLoaderData");return e.actionData?e.actionData[t]:void 0}function useRouteError(){let e=React2.useContext(RouteErrorContext),t=useDataRouterState("useRouteError"),r=useCurrentRouteId("useRouteError");return void 0!==e?e:t.errors?.[r]}function useAsyncValue(){let e=React2.useContext(AwaitContext);return e?._data}function useAsyncError(){let e=React2.useContext(AwaitContext);return e?._error}var blockerId=0;function useBlocker(e){let{router:t,basename:r}=useDataRouterContext("useBlocker"),a=useDataRouterState("useBlocker"),[o,n]=React2.useState(""),i=React2.useCallback((t=>{if("function"!=typeof e)return!!e;if("/"===r)return e(t);let{currentLocation:a,nextLocation:o,historyAction:n}=t;return e({currentLocation:{...a,pathname:stripBasename(a.pathname,r)||a.pathname},nextLocation:{...o,pathname:stripBasename(o.pathname,r)||o.pathname},historyAction:n})}),[r,e]);return React2.useEffect((()=>{let e=String(++blockerId);return n(e),()=>t.deleteBlocker(e)}),[t]),React2.useEffect((()=>{""!==o&&t.getBlocker(o,i)}),[t,o,i]),o&&a.blockers.has(o)?a.blockers.get(o):IDLE_BLOCKER}function useNavigateStable(){let{router:e}=useDataRouterContext("useNavigate"),t=useCurrentRouteId("useNavigate"),r=React2.useRef(!1);return useIsomorphicLayoutEffect((()=>{r.current=!0})),React2.useCallback((async(a,o={})=>{warning(r.current,navigateEffectWarning),r.current&&("number"==typeof a?e.navigate(a):await e.navigate(a,{fromRouteId:t,...o}))}),[e,t])}var alreadyWarned={};function warningOnce(e,t,r){t||alreadyWarned[e]||(alreadyWarned[e]=!0,warning(!1,r))}var alreadyWarned2={};function warnOnce(e,t){e||alreadyWarned2[t]||(alreadyWarned2[t]=!0,console.warn(t))}var ENABLE_DEV_WARNINGS2=!0;function mapRouteProperties(e){let t={hasErrorBoundary:e.hasErrorBoundary||null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&(ENABLE_DEV_WARNINGS2&&e.element&&warning(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:React3.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(ENABLE_DEV_WARNINGS2&&e.hydrateFallbackElement&&warning(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:React3.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(ENABLE_DEV_WARNINGS2&&e.errorElement&&warning(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:React3.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}function createMemoryRouter(e,t){return createRouter({basename:t?.basename,future:t?.future,history:createMemoryHistory({initialEntries:t?.initialEntries,initialIndex:t?.initialIndex}),hydrationData:t?.hydrationData,routes:e,mapRouteProperties:mapRouteProperties,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation}).initialize()}var Deferred=class{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}};function RouterProvider({router:e,flushSync:t}){let[r,a]=React3.useState(e.state),[o,n]=React3.useState(),[i,s]=React3.useState({isTransitioning:!1}),[l,u]=React3.useState(),[c,d]=React3.useState(),[h,m]=React3.useState(),p=React3.useRef(new Map),f=React3.useCallback(((r,{deletedFetchers:o,flushSync:i,viewTransitionOpts:h})=>{r.fetchers.forEach(((e,t)=>{void 0!==e.data&&p.current.set(t,e.data)})),o.forEach((e=>p.current.delete(e))),warnOnce(!1===i||null!=t,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let f=null!=e.window&&null!=e.window.document&&"function"==typeof e.window.document.startViewTransition;if(warnOnce(null==h||f,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),h&&f){if(t&&i){t((()=>{c&&(l&&l.resolve(),c.skipTransition()),s({isTransitioning:!0,flushSync:!0,currentLocation:h.currentLocation,nextLocation:h.nextLocation})}));let o=e.window.document.startViewTransition((()=>{t((()=>a(r)))}));return o.finished.finally((()=>{t((()=>{u(void 0),d(void 0),n(void 0),s({isTransitioning:!1})}))})),void t((()=>d(o)))}c?(l&&l.resolve(),c.skipTransition(),m({state:r,currentLocation:h.currentLocation,nextLocation:h.nextLocation})):(n(r),s({isTransitioning:!0,flushSync:!1,currentLocation:h.currentLocation,nextLocation:h.nextLocation}))}else t&&i?t((()=>a(r))):React3.startTransition((()=>a(r)))}),[e.window,t,c,l]);React3.useLayoutEffect((()=>e.subscribe(f)),[e,f]),React3.useEffect((()=>{i.isTransitioning&&!i.flushSync&&u(new Deferred)}),[i]),React3.useEffect((()=>{if(l&&o&&e.window){let t=o,r=l.promise,i=e.window.document.startViewTransition((async()=>{React3.startTransition((()=>a(t))),await r}));i.finished.finally((()=>{u(void 0),d(void 0),n(void 0),s({isTransitioning:!1})})),d(i)}}),[o,l,e.window]),React3.useEffect((()=>{l&&o&&r.location.key===o.location.key&&l.resolve()}),[l,c,r.location,o]),React3.useEffect((()=>{!i.isTransitioning&&h&&(n(h.state),s({isTransitioning:!0,flushSync:!1,currentLocation:h.currentLocation,nextLocation:h.nextLocation}),m(void 0))}),[i.isTransitioning,h]);let R=React3.useMemo((()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:t=>e.navigate(t),push:(t,r,a)=>e.navigate(t,{state:r,preventScrollReset:a?.preventScrollReset}),replace:(t,r,a)=>e.navigate(t,{replace:!0,state:r,preventScrollReset:a?.preventScrollReset})})),[e]),y=e.basename||"/",g=React3.useMemo((()=>({router:e,navigator:R,static:!1,basename:y})),[e,R,y]);return React3.createElement(React3.Fragment,null,React3.createElement(DataRouterContext.Provider,{value:g},React3.createElement(DataRouterStateContext.Provider,{value:r},React3.createElement(FetchersContext.Provider,{value:p.current},React3.createElement(ViewTransitionContext.Provider,{value:i},React3.createElement(Router,{basename:y,location:r.location,navigationType:r.historyAction,navigator:R},React3.createElement(MemoizedDataRoutes,{routes:e.routes,future:e.future,state:r})))))),null)}var MemoizedDataRoutes=React3.memo(DataRoutes);function DataRoutes({routes:e,future:t,state:r}){return useRoutesImpl(e,void 0,r,t)}function MemoryRouter({basename:e,children:t,initialEntries:r,initialIndex:a}){let o=React3.useRef();null==o.current&&(o.current=createMemoryHistory({initialEntries:r,initialIndex:a,v5Compat:!0}));let n=o.current,[i,s]=React3.useState({action:n.action,location:n.location}),l=React3.useCallback((e=>{React3.startTransition((()=>s(e)))}),[s]);return React3.useLayoutEffect((()=>n.listen(l)),[n,l]),React3.createElement(Router,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n})}function Navigate({to:e,replace:t,state:r,relative:a}){invariant(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=React3.useContext(NavigationContext);warning(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:n}=React3.useContext(RouteContext),{pathname:i}=useLocation(),s=useNavigate(),l=resolveTo(e,getResolveToMatches(n),i,"path"===a),u=JSON.stringify(l);return React3.useEffect((()=>{s(JSON.parse(u),{replace:t,state:r,relative:a})}),[s,u,a,t,r]),null}function Outlet(e){return useOutlet(e.context)}function Route(e){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:o,static:n=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),s=React3.useMemo((()=>({basename:i,navigator:o,static:n,future:{}})),[i,o,n]);"string"==typeof r&&(r=parsePath(r));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:h="default"}=r,m=React3.useMemo((()=>{let e=stripBasename(l,i);return null==e?null:{location:{pathname:e,search:u,hash:c,state:d,key:h},navigationType:a}}),[i,l,u,c,d,h,a]);return warning(null!=m,`<Router basename="${i}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),null==m?null:React3.createElement(NavigationContext.Provider,{value:s},React3.createElement(LocationContext.Provider,{children:t,value:m}))}function Routes({children:e,location:t}){return useRoutes(createRoutesFromChildren(e),t)}function Await({children:e,errorElement:t,resolve:r}){return React3.createElement(AwaitErrorBoundary,{resolve:r,errorElement:t},React3.createElement(ResolveAwait,null,e))}var AwaitErrorBoundary=class extends React3.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:r}=this.props,a=null,o=0;if(r instanceof Promise)if(this.state.error){o=2;let e=this.state.error;a=Promise.reject().catch((()=>{})),Object.defineProperty(a,"_tracked",{get:()=>!0}),Object.defineProperty(a,"_error",{get:()=>e})}else r._tracked?(a=r,o="_error"in a?2:"_data"in a?1:0):(o=0,Object.defineProperty(r,"_tracked",{get:()=>!0}),a=r.then((e=>Object.defineProperty(r,"_data",{get:()=>e})),(e=>Object.defineProperty(r,"_error",{get:()=>e}))));else o=1,a=Promise.resolve(),Object.defineProperty(a,"_tracked",{get:()=>!0}),Object.defineProperty(a,"_data",{get:()=>r});if(2===o&&!t)throw a._error;if(2===o)return React3.createElement(AwaitContext.Provider,{value:a,children:t});if(1===o)return React3.createElement(AwaitContext.Provider,{value:a,children:e});throw a}};function ResolveAwait({children:e}){let t=useAsyncValue(),r="function"==typeof e?e(t):e;return React3.createElement(React3.Fragment,null,r)}function createRoutesFromChildren(e,t=[]){let r=[];return React3.Children.forEach(e,((e,a)=>{if(!React3.isValidElement(e))return;let o=[...t,a];if(e.type===React3.Fragment)return void r.push.apply(r,createRoutesFromChildren(e.props.children,o));invariant(e.type===Route,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!e.props.index||!e.props.children,"An index route cannot have child routes.");let n={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(n.children=createRoutesFromChildren(e.props.children,o)),r.push(n)})),r}var createRoutesFromElements=createRoutesFromChildren;function renderMatches(e){return _renderMatches(e)}var React10=__toESM(require("react")),defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(e){return null!=e&&"string"==typeof e.tagName}function isButtonElement(e){return isHtmlElement(e)&&"button"===e.tagName.toLowerCase()}function isFormElement(e){return isHtmlElement(e)&&"form"===e.tagName.toLowerCase()}function isInputElement(e){return isHtmlElement(e)&&"input"===e.tagName.toLowerCase()}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,t){return!(0!==e.button||t&&"_self"!==t||isModifiedEvent(e))}function createSearchParams(e=""){return new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map((e=>[r,e])):[[r,a]])}),[]))}function getSearchParamsForLocation(e,t){let r=createSearchParams(e);return t&&t.forEach(((e,a)=>{r.has(a)||t.getAll(a).forEach((e=>{r.append(a,e)}))})),r}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(null===_formDataSupportsSubmitter)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch(e){_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(e){return null==e||supportedFormEncTypes.has(e)?e:(warning(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null)}function getFormSubmissionInfo(e,t){let r,a,o,n,i;if(isFormElement(e)){let i=e.getAttribute("action");a=i?stripBasename(i,t):null,r=e.getAttribute("method")||defaultMethod,o=getFormEncType(e.getAttribute("enctype"))||defaultEncType,n=new FormData(e)}else if(isButtonElement(e)||isInputElement(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||i.getAttribute("action");if(a=s?stripBasename(s,t):null,r=e.getAttribute("formmethod")||i.getAttribute("method")||defaultMethod,o=getFormEncType(e.getAttribute("formenctype"))||getFormEncType(i.getAttribute("enctype"))||defaultEncType,n=new FormData(i,e),!isFormDataSubmitterSupported()){let{name:t,type:r,value:a}=e;if("image"===r){let e=t?`${t}.`:"";n.append(`${e}x`,"0"),n.append(`${e}y`,"0")}else t&&n.append(t,a)}}else{if(isHtmlElement(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=defaultMethod,a=null,o=defaultEncType,i=e}return n&&"text/plain"===o&&(i=n,n=void 0),{action:a,method:r.toLowerCase(),encType:o,formData:n,body:i}}var _isPreloadSupported,React9=__toESM(require("react"));function invariant2(e,t){if(!1===e||null==e)throw new Error(t)}async function loadRouteModule(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function getKeyedLinksForMatches(e,t,r){return dedupeLinkDescriptors(e.map((e=>{let a=t[e.route.id],o=r.routes[e.route.id];return[o&&o.css?o.css.map((e=>({rel:"stylesheet",href:e}))):[],a?.links?.()||[]]})).flat(2),getCurrentPageModulePreloadHrefs(e,r))}async function prefetchStyleLinks(e,t){if(!e.css&&!t.links||!isPreloadSupported())return;let r=[];if(e.css&&r.push(...e.css.map((e=>({rel:"stylesheet",href:e})))),t.links&&r.push(...t.links()),0===r.length)return;let a=[];for(let e of r)isPageLinkDescriptor(e)||"stylesheet"!==e.rel||a.push({...e,rel:"preload",as:"style"});let o=a.filter((e=>(!e.media||window.matchMedia(e.media).matches)&&!document.querySelector(`link[rel="stylesheet"][href="${e.href}"]`)));await Promise.all(o.map(prefetchStyleLink))}async function prefetchStyleLink(e){return new Promise((t=>{let r=document.createElement("link");function a(){document.head.contains(r)&&document.head.removeChild(r)}Object.assign(r,e),r.onload=()=>{a(),t()},r.onerror=()=>{a(),t()},document.head.appendChild(r)}))}function isPageLinkDescriptor(e){return null!=e&&"string"==typeof e.page}function isHtmlLinkDescriptor(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function getKeyedPrefetchLinks(e,t,r){return dedupeLinkDescriptors((await Promise.all(e.map((async e=>{let a=t.routes[e.route.id];if(a){let e=await loadRouteModule(a,r);return e.links?e.links():[]}return[]})))).flat(1).filter(isHtmlLinkDescriptor).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}function getNewMatchesForLinks(e,t,r,a,o,n){let i=(e,t)=>!r[t]||e.route.id!==r[t].route.id,s=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===n?t.filter(((e,t)=>i(e,t)||s(e,t))):"data"===n?t.filter(((t,n)=>{let l=a.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,n)||s(t,n))return!0;if(t.route.shouldRevalidate){let a=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof a)return a}return!0})):[]}function getModuleLinkHrefs(e,t){return dedupeHrefs(e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.imports&&(a=a.concat(r.imports)),a})).flat(1))}function getCurrentPageModulePreloadHrefs(e,t){return dedupeHrefs(e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let a=[r.module];return r.imports&&(a=a.concat(r.imports)),a})).flat(1))}function dedupeHrefs(e){return[...new Set(e)]}function sortKeys(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function dedupeLinkDescriptors(e,t){let r=new Set,a=new Set(t);return e.reduce(((e,o)=>{if(t&&!isPageLinkDescriptor(o)&&"script"===o.as&&o.href&&a.has(o.href))return e;let n=JSON.stringify(sortKeys(o));return r.has(n)||(r.add(n),e.push({key:n,link:o})),e}),[])}function isPreloadSupported(){if(void 0!==_isPreloadSupported)return _isPreloadSupported;let e=document.createElement("link");return _isPreloadSupported=e.relList.supports("preload"),e=null,_isPreloadSupported}var ESCAPE_LOOKUP={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},ESCAPE_REGEX=/[&><\u2028\u2029]/g;function escapeHtml(e){return e.replace(ESCAPE_REGEX,(e=>ESCAPE_LOOKUP[e]))}function createHtml(e){return{__html:e}}var React4=__toESM(require("react")),import_turbo_stream=require("turbo-stream");async function createRequestInit(e){let t={signal:e.signal};if("GET"!==e.method){t.method=e.method;let r=e.headers.get("Content-Type");r&&/\bapplication\/json\b/.test(r)?(t.headers={"Content-Type":r},t.body=JSON.stringify(await e.json())):r&&/\btext\/plain\b/.test(r)?(t.headers={"Content-Type":r},t.body=await e.text()):r&&/\bapplication\/x-www-form-urlencoded\b/.test(r)?t.body=new URLSearchParams(await e.text()):t.body=await e.formData()}return t}var SingleFetchRedirectSymbol=Symbol("SingleFetchRedirect");function StreamTransfer({context:e,identifier:t,reader:r,textDecoder:a,nonce:o}){if(!e.renderMeta||!e.renderMeta.didRenderScripts)return null;e.renderMeta.streamCache||(e.renderMeta.streamCache={});let{streamCache:n}=e.renderMeta,i=n[t];if(i||(i=n[t]=r.read().then((e=>{n[t].result={done:e.done,value:a.decode(e.value,{stream:!0})}})).catch((e=>{n[t].error=e}))),i.error)throw i.error;if(void 0===i.result)throw i;let{done:s,value:l}=i.result,u=l?React4.createElement("script",{nonce:o,dangerouslySetInnerHTML:{__html:`window.__reactRouterContext.streamController.enqueue(${escapeHtml(JSON.stringify(l))});`}}):null;return s?React4.createElement(React4.Fragment,null,u,React4.createElement("script",{nonce:o,dangerouslySetInnerHTML:{__html:"window.__reactRouterContext.streamController.close();"}})):React4.createElement(React4.Fragment,null,u,React4.createElement(React4.Suspense,null,React4.createElement(StreamTransfer,{context:e,identifier:t+1,reader:r,textDecoder:a,nonce:o})))}function getSingleFetchDataStrategy(e,t,r){return async({request:a,matches:o,fetcherKey:n})=>"GET"!==a.method?singleFetchActionStrategy(a,o):n?singleFetchLoaderFetcherStrategy(a,o):singleFetchLoaderNavigationStrategy(e,t,r(),a,o)}async function singleFetchActionStrategy(e,t){let r,a=t.find((e=>e.shouldLoad));invariant2(a,"No action match found");let o=await a.resolve((async t=>await t((async()=>{let t=singleFetchUrl(e.url),o=await createRequestInit(e),{data:n,status:i}=await fetchAndDecode(t,o);return r=i,unwrapSingleFetchResult(n,a.route.id)}))));return isResponse(o.result)||isRouteErrorResponse(o.result)?{[a.route.id]:o}:{[a.route.id]:{type:o.type,result:data(o.result,r)}}}async function singleFetchLoaderNavigationStrategy(e,t,r,a,o){let n=new Set,i=!1,s=o.map((()=>createDeferred2())),l=Promise.all(s.map((e=>e.promise))),u=createDeferred2(),c=stripIndexParam(singleFetchUrl(a.url)),d=await createRequestInit(a),h={},m=Promise.all(o.map((async(a,o)=>a.resolve((async l=>{s[o].resolve();let m=e.routes[a.route.id];if(!a.shouldLoad){if(!r.state.initialized)return;if(a.route.id in r.state.loaderData&&m&&m.hasLoader&&t[a.route.id]?.shouldRevalidate)return void(i=!0)}if(m&&m.hasClientLoader){m.hasLoader&&(i=!0);try{let e=await fetchSingleLoader(l,c,d,a.route.id);h[a.route.id]={type:"data",result:e}}catch(e){h[a.route.id]={type:"error",result:e}}}else{m&&m.hasLoader&&n.add(a.route.id);try{let e=await l((async()=>unwrapSingleFetchResults(await u.promise,a.route.id)));h[a.route.id]={type:"data",result:e}}catch(e){h[a.route.id]={type:"error",result:e}}}})))));if(await l,r.state.initialized&&0!==n.size||window.__reactRouterHdrActive)try{i&&n.size>0&&c.searchParams.set("_routes",o.filter((e=>n.has(e.route.id))).map((e=>e.route.id)).join(","));let e=await fetchAndDecode(c,d);u.resolve(e.data)}catch(e){u.reject(e)}else u.resolve({});return await m,h}async function singleFetchLoaderFetcherStrategy(e,t){let r=t.find((e=>e.shouldLoad));invariant2(r,"No fetcher match found");let a=await r.resolve((async t=>fetchSingleLoader(t,stripIndexParam(singleFetchUrl(e.url)),await createRequestInit(e),r.route.id)));return{[r.route.id]:a}}function fetchSingleLoader(e,t,r,a){return e((async()=>{let e=new URL(t);e.searchParams.set("_routes",a);let{data:o}=await fetchAndDecode(e,r);return unwrapSingleFetchResults(o,a)}))}function stripIndexParam(e){let t=e.searchParams.getAll("index");e.searchParams.delete("index");let r=[];for(let e of t)e&&r.push(e);for(let t of r)e.searchParams.append("index",t);return e}function singleFetchUrl(e){let t="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}async function fetchAndDecode(e,t){let r=await fetch(e,t);if(404===r.status&&!r.headers.has("X-Remix-Response"))throw new ErrorResponseImpl(404,"Not Found",!0);if(new Set([100,101,204,205]).has(r.status))return t.method&&"GET"!==t.method?{status:r.status,data:{data:void 0}}:{status:r.status,data:{}};invariant2(r.body,"No response body to decode");try{let e=await decodeViaTurboStream(r.body,window);return{status:r.status,data:e.value}}catch(e){throw new Error("Unable to decode turbo-stream response")}}function decodeViaTurboStream(e,t){return(0,import_turbo_stream.decode)(e,{plugins:[(e,...r)=>{if("SanitizedError"===e){let[e,a,o]=r,n=Error;e&&e in t&&"function"==typeof t[e]&&(n=t[e]);let i=new n(a);return i.stack=o,{value:i}}if("ErrorResponse"===e){let[e,t,a]=r;return{value:new ErrorResponseImpl(t,a,e)}}return"SingleFetchRedirect"===e?{value:{[SingleFetchRedirectSymbol]:r[0]}}:"SingleFetchClassInstance"===e?{value:r[0]}:"SingleFetchFallback"===e?{value:void 0}:void 0}]})}function unwrapSingleFetchResults(e,t){let r=e[SingleFetchRedirectSymbol];return r?unwrapSingleFetchResult(r,t):void 0!==e[t]?unwrapSingleFetchResult(e[t],t):null}function unwrapSingleFetchResult(e,t){if("error"in e)throw e.error;if("redirect"in e){let t={};throw e.revalidate&&(t["X-Remix-Revalidate"]="yes"),e.reload&&(t["X-Remix-Reload-Document"]="yes"),e.replace&&(t["X-Remix-Replace"]="yes"),redirect(e.redirect,{status:e.status,headers:t})}if("data"in e)return e.data;throw new Error(`No response found for routeId "${t}"`)}function createDeferred2(){let e,t,r=new Promise(((a,o)=>{e=async e=>{a(e);try{await r}catch(e){}},t=async e=>{o(e);try{await r}catch(e){}}}));return{promise:r,resolve:e,reject:t}}var React8=__toESM(require("react")),React7=__toESM(require("react")),React5=__toESM(require("react")),RemixErrorBoundary=class extends React5.Component{constructor(e){super(e),this.state={error:e.error||null,location:e.location}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error||null,location:e.location}:{error:e.error||t.error,location:t.location}}render(){return this.state.error?React5.createElement(RemixRootDefaultErrorBoundary,{error:this.state.error,isOutsideRemixApp:!0}):this.props.children}};function RemixRootDefaultErrorBoundary({error:e,isOutsideRemixApp:t}){console.error(e);let r,a=React5.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "💿 Hey developer 👋. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(isRouteErrorResponse(e))return React5.createElement(BoundaryShell,{title:"Unhandled Thrown Response!"},React5.createElement("h1",{style:{fontSize:"24px"}},e.status," ",e.statusText),a);if(e instanceof Error)r=e;else{let t=null==e?"Unknown Error":"object"==typeof e&&"toString"in e?e.toString():JSON.stringify(e);r=new Error(t)}return React5.createElement(BoundaryShell,{title:"Application Error!",isOutsideRemixApp:t},React5.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),React5.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),a)}function BoundaryShell({title:e,renderScripts:t,isOutsideRemixApp:r,children:a}){let{routeModules:o}=useFrameworkContext();return o.root?.Layout&&!r?a:React5.createElement("html",{lang:"en"},React5.createElement("head",null,React5.createElement("meta",{charSet:"utf-8"}),React5.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),React5.createElement("title",null,e)),React5.createElement("body",null,React5.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,t?React5.createElement(Scripts,null):null)))}var React6=__toESM(require("react"));function RemixRootDefaultHydrateFallback(){return React6.createElement(BoundaryShell,{title:"Loading...",renderScripts:!0},React6.createElement("script",{dangerouslySetInnerHTML:{__html:'\n              console.log(\n                "💿 Hey developer 👋. You can provide a way better UX than this " +\n                "when your app is loading JS modules and/or running `clientLoader` " +\n                "functions. Check out https://remix.run/route/hydrate-fallback " +\n                "for more information."\n              );\n            '}}))}function groupRoutesByParentId(e){let t={};return Object.values(e).forEach((e=>{if(e){let r=e.parentId||"";t[r]||(t[r]=[]),t[r].push(e)}})),t}function getRouteComponents(e,t,r){let a=getRouteModuleComponent(t),o=!t.HydrateFallback||r&&"root"!==e.id?"root"===e.id?RemixRootDefaultHydrateFallback:void 0:t.HydrateFallback,n=t.ErrorBoundary?t.ErrorBoundary:"root"===e.id?()=>React7.createElement(RemixRootDefaultErrorBoundary,{error:useRouteError()}):void 0;return"root"===e.id&&t.Layout?{...a?{element:React7.createElement(t.Layout,null,React7.createElement(a,null))}:{Component:a},...n?{errorElement:React7.createElement(t.Layout,null,React7.createElement(n,null))}:{ErrorBoundary:n},...o?{hydrateFallbackElement:React7.createElement(t.Layout,null,React7.createElement(o,null))}:{HydrateFallback:o}}:{Component:a,ErrorBoundary:n,HydrateFallback:o}}function createServerRoutes(e,t,r,a,o="",n=groupRoutesByParentId(e),i=Promise.resolve({Component:()=>null})){return(n[o]||[]).map((o=>{let s=t[o.id];invariant2(s,"No `routeModule` available to create server routes");let l={...getRouteComponents(o,s,a),caseSensitive:o.caseSensitive,id:o.id,index:o.index,path:o.path,handle:s.handle,lazy:a?()=>i:void 0,loader:o.hasLoader||o.hasClientLoader?()=>null:void 0},u=createServerRoutes(e,t,r,a,o.id,n,i);return u.length>0&&(l.children=u),l}))}function createClientRoutesWithHMRRevalidationOptOut(e,t,r,a,o,n){return createClientRoutes(t,r,a,n,"",groupRoutesByParentId(t),e)}function preventInvalidServerHandlerCall(e,t,r){if(r){let r=`You cannot call ${"action"===e?"serverAction()":"serverLoader()"} in SPA Mode (routeId: "${t.id}")`;throw console.error(r),new ErrorResponseImpl(400,"Bad Request",new Error(r),!0)}let a=`You are trying to call ${"action"===e?"serverAction()":"serverLoader()"} on a route that does not have a server ${e} (routeId: "${t.id}")`;if("loader"===e&&!t.hasLoader||"action"===e&&!t.hasAction)throw console.error(a),new ErrorResponseImpl(400,"Bad Request",new Error(a),!0)}function noActionDefinedError(e,t){let r="clientAction"===e?"a":"an",a=`Route "${t}" does not have ${r} ${e}, but you are trying to submit to it. To fix this, please add ${r} \`${e}\` function to the route`;throw console.error(a),new ErrorResponseImpl(405,"Method Not Allowed",new Error(a),!0)}function createClientRoutes(e,t,r,a,o="",n=groupRoutesByParentId(e),i){return(n[o]||[]).map((o=>{let s=t[o.id];function l(e){return invariant2("function"==typeof e,"No single fetch function available for route handler"),e()}function u(e){return o.hasLoader?l(e):Promise.resolve(null)}function c(e){if(!o.hasAction)throw noActionDefinedError("action",o.id);return l(e)}async function d(e){let r=t[o.id],a=r?prefetchStyleLinks(o,r):Promise.resolve();try{return e()}finally{await a}}let h={id:o.id,index:o.index,path:o.path};if(s){Object.assign(h,{...h,...getRouteComponents(o,s,a),handle:s.handle,shouldRevalidate:getShouldRevalidateFunction(s,o.id,i)});let e=r&&r.loaderData&&o.id in r.loaderData,t=e?r?.loaderData?.[o.id]:void 0,n=r&&r.errors&&o.id in r.errors,l=n?r?.errors?.[o.id]:void 0,m=null==i&&(!0===s.clientLoader?.hydrate||!o.hasLoader);h.loader=async({request:r,params:i},c)=>{try{return await d((async()=>(invariant2(s,"No `routeModule` available for critical-route loader"),s.clientLoader?s.clientLoader({request:r,params:i,async serverLoader(){if(preventInvalidServerHandlerCall("loader",o,a),m){if(e)return t;if(n)throw l}return u(c)}}):a?null:u(c))))}finally{m=!1}},h.loader.hydrate=shouldHydrateRouteLoader(o,s,a),h.action=({request:e,params:t},r)=>d((async()=>{if(invariant2(s,"No `routeModule` available for critical-route action"),!s.clientAction){if(a)throw noActionDefinedError("clientAction",o.id);return c(r)}return s.clientAction({request:e,params:t,serverAction:async()=>(preventInvalidServerHandlerCall("action",o,a),c(r))})}))}else o.hasClientLoader||(h.loader=({request:e},t)=>d((()=>a?Promise.resolve(null):u(t)))),o.hasClientAction||(h.action=({request:e},t)=>d((()=>{if(a)throw noActionDefinedError("clientAction",o.id);return c(t)}))),h.lazy=async()=>{let e=await loadRouteModuleWithBlockingLinks(o,t),r={...e};if(e.clientLoader){let t=e.clientLoader;r.loader=(e,r)=>t({...e,serverLoader:async()=>(preventInvalidServerHandlerCall("loader",o,a),u(r))})}if(e.clientAction){let t=e.clientAction;r.action=(e,r)=>t({...e,serverAction:async()=>(preventInvalidServerHandlerCall("action",o,a),c(r))})}return{...r.loader?{loader:r.loader}:{},...r.action?{action:r.action}:{},hasErrorBoundary:r.hasErrorBoundary,shouldRevalidate:getShouldRevalidateFunction(r,o.id,i),handle:r.handle,Component:r.Component,ErrorBoundary:r.ErrorBoundary}};let m=createClientRoutes(e,t,r,a,o.id,n,i);return m.length>0&&(h.children=m),h}))}function getShouldRevalidateFunction(e,t,r){if(r)return wrapShouldRevalidateForHdr(t,e.shouldRevalidate,r);if(e.shouldRevalidate){let t=e.shouldRevalidate;return e=>t({...e,defaultShouldRevalidate:!0})}return e.shouldRevalidate}function wrapShouldRevalidateForHdr(e,t,r){let a=!1;return o=>a?t?t(o):o.defaultShouldRevalidate:(a=!0,r.has(e))}async function loadRouteModuleWithBlockingLinks(e,t){let r=await loadRouteModule(e,t);return await prefetchStyleLinks(e,r),{Component:getRouteModuleComponent(r),ErrorBoundary:r.ErrorBoundary,clientAction:r.clientAction,clientLoader:r.clientLoader,handle:r.handle,links:r.links,meta:r.meta,shouldRevalidate:r.shouldRevalidate}}function getRouteModuleComponent(e){if(null==e.default)return;return"object"==typeof e.default&&0===Object.keys(e.default).length?void 0:e.default}function shouldHydrateRouteLoader(e,t,r){return r&&"root"!==e.id||null!=t.clientLoader&&(!0===t.clientLoader.hydrate||!0!==e.hasLoader)}var nextPaths=new Set,discoveredPathsMaxSize=1e3,discoveredPaths=new Set,URL_LIMIT=7680;function isFogOfWarEnabled(e){return!e}function getPartialManifest(e,t){let r=new Set(t.state.matches.map((e=>e.route.id))),a=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(a.pop();a.length>0;)o.push(`/${a.join("/")}`),a.pop();o.forEach((e=>{let a=matchRoutes(t.routes,e,t.basename);a&&a.forEach((e=>r.add(e.route.id)))}));let n=[...r].reduce(((t,r)=>Object.assign(t,{[r]:e.routes[r]})),{});return{...e,routes:n}}function getPatchRoutesOnNavigationFunction(e,t,r,a){if(isFogOfWarEnabled(r))return async({path:o,patch:n})=>{discoveredPaths.has(o)||await fetchAndApplyManifestPatches([o],e,t,r,a,n)}}function useFogOFWarDiscovery(e,t,r,a){React8.useEffect((()=>{if(!isFogOfWarEnabled(a)||!0===navigator.connection?.saveData)return;function o(e){let t="FORM"===e.tagName?e.getAttribute("action"):e.getAttribute("href");if(!t)return;let r="A"===e.tagName?e.pathname:new URL(t,window.location.origin).pathname;discoveredPaths.has(r)||nextPaths.add(r)}async function n(){document.querySelectorAll("a[data-discover], form[data-discover]").forEach(o);let n=Array.from(nextPaths.keys()).filter((e=>!discoveredPaths.has(e)||(nextPaths.delete(e),!1)));if(0!==n.length)try{await fetchAndApplyManifestPatches(n,t,r,a,e.basename,e.patchRoutes)}catch(e){console.error("Failed to fetch manifest patches",e)}}let i=debounce(n,100);n();let s=new MutationObserver((()=>i()));return s.observe(document.documentElement,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["data-discover","href","action"]}),()=>s.disconnect()}),[a,t,r,e])}async function fetchAndApplyManifestPatches(e,t,r,a,o,n){let i=`${null!=o?o:"/"}/__manifest`.replace(/\/+/g,"/"),s=new URL(i,window.location.origin);if(e.sort().forEach((e=>s.searchParams.append("p",e))),s.searchParams.set("version",t.version),s.toString().length>URL_LIMIT)return void nextPaths.clear();let l=await fetch(s);if(!l.ok)throw new Error(`${l.status} ${l.statusText}`);if(l.status>=400)throw new Error(await l.text());let u=await l.json(),c=new Set(Object.keys(t.routes)),d=Object.values(u).reduce(((e,t)=>(t&&!c.has(t.id)&&(e[t.id]=t),e)),{});Object.assign(t.routes,d),e.forEach((e=>addToFifoQueue(e,discoveredPaths)));let h=new Set;Object.values(d).forEach((e=>{!e||e.parentId&&d[e.parentId]||h.add(e.parentId)})),h.forEach((e=>n(e||null,createClientRoutes(d,r,null,a,e))))}function addToFifoQueue(e,t){if(t.size>=discoveredPathsMaxSize){let e=t.values().next().value;t.delete(e)}t.add(e)}function debounce(e,t){let r;return(...a)=>{window.clearTimeout(r),r=window.setTimeout((()=>e(...a)),t)}}function useDataRouterContext2(){let e=React9.useContext(DataRouterContext);return invariant2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function useDataRouterStateContext(){let e=React9.useContext(DataRouterStateContext);return invariant2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var FrameworkContext=React9.createContext(void 0);function useFrameworkContext(){let e=React9.useContext(FrameworkContext);return invariant2(e,"You must render this element inside a <HydratedRouter> element"),e}function usePrefetchBehavior(e,t){let r=React9.useContext(FrameworkContext),[a,o]=React9.useState(!1),[n,i]=React9.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,h=React9.useRef(null);React9.useEffect((()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{i(e.isIntersecting)}))}),{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}}),[e]),React9.useEffect((()=>{if(a){let e=setTimeout((()=>{i(!0)}),100);return()=>{clearTimeout(e)}}}),[a]);let m=()=>{o(!0)},p=()=>{o(!1),i(!1)};return r?"intent"!==e?[n,h,{}]:[n,h,{onFocus:composeEventHandlers(s,m),onBlur:composeEventHandlers(l,p),onMouseEnter:composeEventHandlers(u,m),onMouseLeave:composeEventHandlers(c,p),onTouchStart:composeEventHandlers(d,m)}]:[!1,h,{}]}function composeEventHandlers(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function getActiveMatches(e,t,r){if(r&&!isHydrated)return[e[0]];if(t){let r=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,r+1)}return e}function Links(){let{isSpaMode:e,manifest:t,routeModules:r,criticalCss:a}=useFrameworkContext(),{errors:o,matches:n}=useDataRouterStateContext(),i=getActiveMatches(n,o,e),s=React9.useMemo((()=>getKeyedLinksForMatches(i,r,t)),[i,r,t]);return React9.createElement(React9.Fragment,null,a?React9.createElement("style",{dangerouslySetInnerHTML:{__html:a}}):null,s.map((({key:e,link:t})=>isPageLinkDescriptor(t)?React9.createElement(PrefetchPageLinks,{key:e,...t}):React9.createElement("link",{key:e,...t}))))}function PrefetchPageLinks({page:e,...t}){let{router:r}=useDataRouterContext2(),a=React9.useMemo((()=>matchRoutes(r.routes,e,r.basename)),[r.routes,e,r.basename]);return a?React9.createElement(PrefetchPageLinksImpl,{page:e,matches:a,...t}):null}function useKeyedPrefetchLinks(e){let{manifest:t,routeModules:r}=useFrameworkContext(),[a,o]=React9.useState([]);return React9.useEffect((()=>{let a=!1;return getKeyedPrefetchLinks(e,t,r).then((e=>{a||o(e)})),()=>{a=!0}}),[e,t,r]),a}function PrefetchPageLinksImpl({page:e,matches:t,...r}){let a=useLocation(),{manifest:o,routeModules:n}=useFrameworkContext(),{loaderData:i,matches:s}=useDataRouterStateContext(),l=React9.useMemo((()=>getNewMatchesForLinks(e,t,s,o,a,"data")),[e,t,s,o,a]),u=React9.useMemo((()=>getNewMatchesForLinks(e,t,s,o,a,"assets")),[e,t,s,o,a]),c=React9.useMemo((()=>{if(e===a.pathname+a.search+a.hash)return[];let r=new Set,s=!1;if(t.forEach((e=>{let t=o.routes[e.route.id];t&&t.hasLoader&&(!l.some((t=>t.route.id===e.route.id))&&e.route.id in i&&n[e.route.id]?.shouldRevalidate||t.hasClientLoader?s=!0:r.add(e.route.id))})),0===r.size)return[];let u=singleFetchUrl(e);return s&&r.size>0&&u.searchParams.set("_routes",t.filter((e=>r.has(e.route.id))).map((e=>e.route.id)).join(",")),[u.pathname+u.search]}),[i,a,o,l,t,e,n]),d=React9.useMemo((()=>getModuleLinkHrefs(u,o)),[u,o]),h=useKeyedPrefetchLinks(u);return React9.createElement(React9.Fragment,null,c.map((e=>React9.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...r}))),d.map((e=>React9.createElement("link",{key:e,rel:"modulepreload",href:e,...r}))),h.map((({key:e,link:t})=>React9.createElement("link",{key:e,...t}))))}function Meta(){let{isSpaMode:e,routeModules:t}=useFrameworkContext(),{errors:r,matches:a,loaderData:o}=useDataRouterStateContext(),n=useLocation(),i=getActiveMatches(a,r,e),s=null;r&&(s=r[i[i.length-1].route.id]);let l=[],u=null,c=[];for(let e=0;e<i.length;e++){let r=i[e],a=r.route.id,d=o[a],h=r.params,m=t[a],p=[],f={id:a,data:d,meta:[],params:r.params,pathname:r.pathname,handle:r.route.handle,error:s};if(c[e]=f,m?.meta?p="function"==typeof m.meta?m.meta({data:d,params:h,location:n,matches:c,error:s}):Array.isArray(m.meta)?[...m.meta]:m.meta:u&&(p=[...u]),p=p||[],!Array.isArray(p))throw new Error("The route at "+r.route.path+" returns an invalid value. All route meta functions must return an array of meta objects.\n\nTo reference the meta function API, see https://remix.run/route/meta");f.meta=p,c[e]=f,l=[...p],u=l}return React9.createElement(React9.Fragment,null,l.flat().map((e=>{if(!e)return null;if("tagName"in e){let{tagName:t,...r}=e;if(!isValidMetaTag(t))return console.warn(`A meta object uses an invalid tagName: ${t}. Expected either 'link' or 'meta'`),null;let a=t;return React9.createElement(a,{key:JSON.stringify(r),...r})}if("title"in e)return React9.createElement("title",{key:"title"},String(e.title));if("charset"in e&&(e.charSet??(e.charSet=e.charset),delete e.charset),"charSet"in e&&null!=e.charSet)return"string"==typeof e.charSet?React9.createElement("meta",{key:"charSet",charSet:e.charSet}):null;if("script:ld+json"in e)try{let t=JSON.stringify(e["script:ld+json"]);return React9.createElement("script",{key:`script:ld+json:${t}`,type:"application/ld+json",dangerouslySetInnerHTML:{__html:t}})}catch(e){return null}return React9.createElement("meta",{key:JSON.stringify(e),...e})})))}function isValidMetaTag(e){return"string"==typeof e&&/^(meta|link)$/.test(e)}FrameworkContext.displayName="FrameworkContext";var isHydrated=!1;function Scripts(e){let{manifest:t,serverHandoffString:r,isSpaMode:a,renderMeta:o}=useFrameworkContext(),{router:n,static:i,staticContext:s}=useDataRouterContext2(),{matches:l}=useDataRouterStateContext(),u=isFogOfWarEnabled(a);o&&(o.didRenderScripts=!0);let c=getActiveMatches(l,null,a);React9.useEffect((()=>{isHydrated=!0}),[]);let d=React9.useMemo((()=>{let a=s?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",o=i?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${u?"":`import ${JSON.stringify(t.url)}`};\n${c.map(((e,r)=>`import * as route${r} from ${JSON.stringify(t.routes[e.route.id].module)};`)).join("\n")}\n  ${u?`window.__reactRouterManifest = ${JSON.stringify(getPartialManifest(t,n),null,2)};`:""}\n  window.__reactRouterRouteModules = {${c.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return React9.createElement(React9.Fragment,null,React9.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:createHtml(a),type:void 0}),React9.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:createHtml(o),type:"module",async:!0}))}),[]),h=c.map((e=>{let r=t.routes[e.route.id];return r?(r.imports||[]).concat([r.module]):[]})).flat(1),m=isHydrated?[]:t.entry.imports.concat(h);return isHydrated?null:React9.createElement(React9.Fragment,null,u?null:React9.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),React9.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),dedupe(m).map((t=>React9.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),d)}function dedupe(e){return[...new Set(e)]}function mergeRefs(...e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}var isBrowser="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{isBrowser&&(window.__reactRouterVersion="7.1.5")}catch(e){}function createBrowserRouter(e,t){return createRouter({basename:t?.basename,future:t?.future,history:createBrowserHistory({window:t?.window}),hydrationData:t?.hydrationData||parseHydrationData(),routes:e,mapRouteProperties:mapRouteProperties,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function createHashRouter(e,t){return createRouter({basename:t?.basename,future:t?.future,history:createHashHistory({window:t?.window}),hydrationData:t?.hydrationData||parseHydrationData(),routes:e,mapRouteProperties:mapRouteProperties,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function parseHydrationData(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:deserializeErrors(e.errors)}),e}function deserializeErrors(e){if(!e)return null;let t=Object.entries(e),r={};for(let[e,a]of t)if(a&&"RouteErrorResponse"===a.__type)r[e]=new ErrorResponseImpl(a.status,a.statusText,a.data,!0===a.internal);else if(a&&"Error"===a.__type){if(a.__subType){let t=window[a.__subType];if("function"==typeof t)try{let o=new t(a.message);o.stack="",r[e]=o}catch(e){}}if(null==r[e]){let t=new Error(a.message);t.stack="",r[e]=t}}else r[e]=a;return r}function BrowserRouter({basename:e,children:t,window:r}){let a=React10.useRef();null==a.current&&(a.current=createBrowserHistory({window:r,v5Compat:!0}));let o=a.current,[n,i]=React10.useState({action:o.action,location:o.location}),s=React10.useCallback((e=>{React10.startTransition((()=>i(e)))}),[i]);return React10.useLayoutEffect((()=>o.listen(s)),[o,s]),React10.createElement(Router,{basename:e,children:t,location:n.location,navigationType:n.action,navigator:o})}function HashRouter({basename:e,children:t,window:r}){let a=React10.useRef();null==a.current&&(a.current=createHashHistory({window:r,v5Compat:!0}));let o=a.current,[n,i]=React10.useState({action:o.action,location:o.location}),s=React10.useCallback((e=>{React10.startTransition((()=>i(e)))}),[i]);return React10.useLayoutEffect((()=>o.listen(s)),[o,s]),React10.createElement(Router,{basename:e,children:t,location:n.location,navigationType:n.action,navigator:o})}function HistoryRouter({basename:e,children:t,history:r}){let[a,o]=React10.useState({action:r.action,location:r.location}),n=React10.useCallback((e=>{React10.startTransition((()=>o(e)))}),[o]);return React10.useLayoutEffect((()=>r.listen(n)),[r,n]),React10.createElement(Router,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:r})}HistoryRouter.displayName="unstable_HistoryRouter";var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=React10.forwardRef((function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:o,replace:n,state:i,target:s,to:l,preventScrollReset:u,viewTransition:c,...d},h){let m,{basename:p}=React10.useContext(NavigationContext),f="string"==typeof l&&ABSOLUTE_URL_REGEX2.test(l),R=!1;if("string"==typeof l&&f&&(m=l,isBrowser))try{let e=new URL(window.location.href),t=l.startsWith("//")?new URL(e.protocol+l):new URL(l),r=stripBasename(t.pathname,p);t.origin===e.origin&&null!=r?l=r+t.search+t.hash:R=!0}catch(e){warning(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=useHref(l,{relative:a}),[g,v,S]=usePrefetchBehavior(r,d),E=useLinkClickHandler(l,{replace:n,state:i,target:s,preventScrollReset:u,relative:a,viewTransition:c});let w=React10.createElement("a",{...d,...S,href:m||y,onClick:R||o?e:function(t){e&&e(t),t.defaultPrevented||E(t)},ref:mergeRefs(h,v),target:s,"data-discover":f||"render"!==t?void 0:"true"});return g&&!f?React10.createElement(React10.Fragment,null,w,React10.createElement(PrefetchPageLinks,{page:y})):w}));Link.displayName="Link";var NavLink=React10.forwardRef((function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:o,to:n,viewTransition:i,children:s,...l},u){let c=useResolvedPath(n,{relative:l.relative}),d=useLocation(),h=React10.useContext(DataRouterStateContext),{navigator:m,basename:p}=React10.useContext(NavigationContext),f=null!=h&&useViewTransitionState(c)&&!0===i,R=m.encodeLocation?m.encodeLocation(c).pathname:c.pathname,y=d.pathname,g=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(y=y.toLowerCase(),g=g?g.toLowerCase():null,R=R.toLowerCase()),g&&p&&(g=stripBasename(g,p)||g);const v="/"!==R&&R.endsWith("/")?R.length-1:R.length;let S,E=y===R||!a&&y.startsWith(R)&&"/"===y.charAt(v),w=null!=g&&(g===R||!a&&g.startsWith(R)&&"/"===g.charAt(R.length)),b={isActive:E,isPending:w,isTransitioning:f},C=E?e:void 0;S="function"==typeof r?r(b):[r,E?"active":null,w?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let x="function"==typeof o?o(b):o;return React10.createElement(Link,{...l,"aria-current":C,className:S,ref:u,style:x,to:n,viewTransition:i},"function"==typeof s?s(b):s)}));NavLink.displayName="NavLink";var Form=React10.forwardRef((({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:o,state:n,method:i=defaultMethod,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...h},m)=>{let p=useSubmit(),f=useFormAction(s,{relative:u}),R="get"===i.toLowerCase()?"get":"post",y="string"==typeof s&&ABSOLUTE_URL_REGEX2.test(s);return React10.createElement("form",{ref:m,method:R,action:f,onSubmit:a?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let a=e.nativeEvent.submitter,s=a?.getAttribute("formmethod")||i;p(a||e.currentTarget,{fetcherKey:t,method:s,navigate:r,replace:o,state:n,relative:u,preventScrollReset:c,viewTransition:d})},...h,"data-discover":y||"render"!==e?void 0:"true"})}));function ScrollRestoration({getKey:e,storageKey:t,...r}){let a=React10.useContext(FrameworkContext),{basename:o}=React10.useContext(NavigationContext),n=useLocation(),i=useMatches();useScrollRestoration({getKey:e,storageKey:t});let s=React10.useMemo((()=>{if(!a||!e)return null;let t=getScrollRestorationKey(n,i,o,e);return t!==n.key?t:null}),[]);if(!a||a.isSpaMode)return null;let l=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},"")}try{let r=JSON.parse(sessionStorage.getItem(e)||"{}")[t||window.history.state.key];"number"==typeof r&&window.scrollTo(0,r)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return React10.createElement("script",{...r,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${l})(${JSON.stringify(t||SCROLL_RESTORATION_STORAGE_KEY)}, ${JSON.stringify(s)})`}})}function getDataRouterConsoleError2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(e){let t=React10.useContext(DataRouterContext);return invariant(t,getDataRouterConsoleError2(e)),t}function useDataRouterState2(e){let t=React10.useContext(DataRouterStateContext);return invariant(t,getDataRouterConsoleError2(e)),t}function useLinkClickHandler(e,{target:t,replace:r,state:a,preventScrollReset:o,relative:n,viewTransition:i}={}){let s=useNavigate(),l=useLocation(),u=useResolvedPath(e,{relative:n});return React10.useCallback((c=>{if(shouldProcessLinkClick(c,t)){c.preventDefault();let t=void 0!==r?r:createPath(l)===createPath(u);s(e,{replace:t,state:a,preventScrollReset:o,relative:n,viewTransition:i})}}),[l,s,u,r,a,t,e,o,n,i])}function useSearchParams(e){warning("undefined"!=typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=React10.useRef(createSearchParams(e)),r=React10.useRef(!1),a=useLocation(),o=React10.useMemo((()=>getSearchParamsForLocation(a.search,r.current?null:t.current)),[a.search]),n=useNavigate(),i=React10.useCallback(((e,t)=>{const a=createSearchParams("function"==typeof e?e(o):e);r.current=!0,n("?"+a,t)}),[n,o]);return[o,i]}Form.displayName="Form",ScrollRestoration.displayName="ScrollRestoration";var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:e}=useDataRouterContext3("useSubmit"),{basename:t}=React10.useContext(NavigationContext),r=useRouteId();return React10.useCallback((async(a,o={})=>{let{action:n,method:i,encType:s,formData:l,body:u}=getFormSubmissionInfo(a,t);if(!1===o.navigate){let t=o.fetcherKey||getUniqueFetcherId();await e.fetch(t,r,o.action||n,{preventScrollReset:o.preventScrollReset,formData:l,body:u,formMethod:o.method||i,formEncType:o.encType||s,flushSync:o.flushSync})}else await e.navigate(o.action||n,{preventScrollReset:o.preventScrollReset,formData:l,body:u,formMethod:o.method||i,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,t,r])}function useFormAction(e,{relative:t}={}){let{basename:r}=React10.useContext(NavigationContext),a=React10.useContext(RouteContext);invariant(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),n={...useResolvedPath(e||".",{relative:t})},i=useLocation();if(null==e){n.search=i.search;let e=new URLSearchParams(n.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let r=e.toString();n.search=r?`?${r}`:""}}return e&&"."!==e||!o.route.index||(n.search=n.search?n.search.replace(/^\?/,"?index&"):"?index"),"/"!==r&&(n.pathname="/"===n.pathname?r:joinPaths([r,n.pathname])),createPath(n)}function useFetcher({key:e}={}){let{router:t}=useDataRouterContext3("useFetcher"),r=useDataRouterState2("useFetcher"),a=React10.useContext(FetchersContext),o=React10.useContext(RouteContext),n=o.matches[o.matches.length-1]?.route.id;invariant(a,"useFetcher must be used inside a FetchersContext"),invariant(o,"useFetcher must be used inside a RouteContext"),invariant(null!=n,'useFetcher can only be used on routes that contain a unique "id"');let i=React10.useId(),[s,l]=React10.useState(e||i);e&&e!==s&&l(e),React10.useEffect((()=>(t.getFetcher(s),()=>t.deleteFetcher(s))),[t,s]);let u=React10.useCallback((async(e,r)=>{invariant(n,"No routeId available for fetcher.load()"),await t.fetch(s,n,e,r)}),[s,n,t]),c=useSubmit(),d=React10.useCallback((async(e,t)=>{await c(e,{...t,navigate:!1,fetcherKey:s})}),[s,c]),h=React10.useMemo((()=>{let e=React10.forwardRef(((e,t)=>React10.createElement(Form,{...e,navigate:!1,fetcherKey:s,ref:t})));return e.displayName="fetcher.Form",e}),[s]),m=r.fetchers.get(s)||IDLE_FETCHER,p=a.get(s);return React10.useMemo((()=>({Form:h,submit:d,load:u,...m,data:p})),[h,d,u,m,p])}function useFetchers(){let e=useDataRouterState2("useFetchers");return Array.from(e.fetchers.entries()).map((([e,t])=>({...t,key:e})))}var SCROLL_RESTORATION_STORAGE_KEY="react-router-scroll-positions",savedScrollPositions={};function getScrollRestorationKey(e,t,r,a){let o=null;return a&&(o=a("/"!==r?{...e,pathname:stripBasename(e.pathname,r)||e.pathname}:e,t)),null==o&&(o=e.key),o}function useScrollRestoration({getKey:e,storageKey:t}={}){let{router:r}=useDataRouterContext3("useScrollRestoration"),{restoreScrollPosition:a,preventScrollReset:o}=useDataRouterState2("useScrollRestoration"),{basename:n}=React10.useContext(NavigationContext),i=useLocation(),s=useMatches(),l=useNavigation();React10.useEffect((()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"})),[]),usePageHide(React10.useCallback((()=>{if("idle"===l.state){let t=getScrollRestorationKey(i,s,n,e);savedScrollPositions[t]=window.scrollY}try{sessionStorage.setItem(t||SCROLL_RESTORATION_STORAGE_KEY,JSON.stringify(savedScrollPositions))}catch(e){warning(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration="auto"}),[l.state,e,n,i,s,t])),"undefined"!=typeof document&&(React10.useLayoutEffect((()=>{try{let e=sessionStorage.getItem(t||SCROLL_RESTORATION_STORAGE_KEY);e&&(savedScrollPositions=JSON.parse(e))}catch(e){}}),[t]),React10.useLayoutEffect((()=>{let t=r?.enableScrollRestoration(savedScrollPositions,(()=>window.scrollY),e?(t,r)=>getScrollRestorationKey(t,r,n,e):void 0);return()=>t&&t()}),[r,n,e]),React10.useLayoutEffect((()=>{if(!1!==a)if("number"!=typeof a){if(i.hash){let e=document.getElementById(decodeURIComponent(i.hash.slice(1)));if(e)return void e.scrollIntoView()}!0!==o&&window.scrollTo(0,0)}else window.scrollTo(0,a)}),[i,a,o]))}function useBeforeUnload(e,t){let{capture:r}=t||{};React10.useEffect((()=>{let t=null!=r?{capture:r}:void 0;return window.addEventListener("beforeunload",e,t),()=>{window.removeEventListener("beforeunload",e,t)}}),[e,r])}function usePageHide(e,t){let{capture:r}=t||{};React10.useEffect((()=>{let t=null!=r?{capture:r}:void 0;return window.addEventListener("pagehide",e,t),()=>{window.removeEventListener("pagehide",e,t)}}),[e,r])}function usePrompt({when:e,message:t}){let r=useBlocker(e);React10.useEffect((()=>{if("blocked"===r.state){window.confirm(t)?setTimeout(r.proceed,0):r.reset()}}),[r,t]),React10.useEffect((()=>{"blocked"!==r.state||e||r.reset()}),[r,e])}function useViewTransitionState(e,t={}){let r=React10.useContext(ViewTransitionContext);invariant(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=useDataRouterContext3("useViewTransitionState"),o=useResolvedPath(e,{relative:t.relative});if(!r.isTransitioning)return!1;let n=stripBasename(r.currentLocation.pathname,a)||r.currentLocation.pathname,i=stripBasename(r.nextLocation.pathname,a)||r.nextLocation.pathname;return null!=matchPath(o.pathname,i)||null!=matchPath(o.pathname,n)}var React11=__toESM(require("react"));function StaticRouter({basename:e,children:t,location:r="/"}){"string"==typeof r&&(r=parsePath(r));let a={pathname:r.pathname||"/",search:r.search||"",hash:r.hash||"",state:null!=r.state?r.state:null,key:r.key||"default"},o=getStatelessNavigator();return React11.createElement(Router,{basename:e,children:t,location:a,navigationType:"POP",navigator:o,static:!0})}function StaticRouterProvider({context:e,router:t,hydrate:r=!0,nonce:a}){invariant(t&&e,"You must provide `router` and `context` to <StaticRouterProvider>");let o={router:t,navigator:getStatelessNavigator(),static:!0,staticContext:e,basename:e.basename||"/"},n=new Map,i="";if(!1!==r){let t={loaderData:e.loaderData,actionData:e.actionData,errors:serializeErrors(e.errors)};i=`window.__staticRouterHydrationData = JSON.parse(${htmlEscape(JSON.stringify(JSON.stringify(t)))});`}let{state:s}=o.router;return React11.createElement(React11.Fragment,null,React11.createElement(DataRouterContext.Provider,{value:o},React11.createElement(DataRouterStateContext.Provider,{value:s},React11.createElement(FetchersContext.Provider,{value:n},React11.createElement(ViewTransitionContext.Provider,{value:{isTransitioning:!1}},React11.createElement(Router,{basename:o.basename,location:s.location,navigationType:s.historyAction,navigator:o.navigator,static:o.static},React11.createElement(DataRoutes2,{routes:t.routes,future:t.future,state:s})))))),i?React11.createElement("script",{suppressHydrationWarning:!0,nonce:a,dangerouslySetInnerHTML:{__html:i}}):null)}function DataRoutes2({routes:e,future:t,state:r}){return useRoutesImpl(e,void 0,r,t)}function serializeErrors(e){if(!e)return null;let t=Object.entries(e),r={};for(let[e,a]of t)isRouteErrorResponse(a)?r[e]={...a,__type:"RouteErrorResponse"}:a instanceof Error?r[e]={message:a.message,__type:"Error",..."Error"!==a.name?{__subType:a.name}:{}}:r[e]=a;return r}function getStatelessNavigator(){return{createHref:createHref,encodeLocation:encodeLocation,push(e){throw new Error(`You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(e)})\` somewhere in your app.`)},replace(e){throw new Error(`You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(e)}, { replace: true })\` somewhere in your app.`)},go(e){throw new Error(`You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${e})\` somewhere in your app.`)},back(){throw new Error("You cannot use navigator.back() on the server because it is a stateless environment.")},forward(){throw new Error("You cannot use navigator.forward() on the server because it is a stateless environment.")}}}function createStaticHandler2(e,t){return createStaticHandler(e,{...t,mapRouteProperties:mapRouteProperties})}function createStaticRouter(e,t,r={}){let a={},o=convertRoutesToDataRoutes(e,mapRouteProperties,void 0,a),n=t.matches.map((e=>{let t=a[e.route.id]||e.route;return{...e,route:t}})),i=e=>`You cannot use router.${e}() on the server because it is a stateless environment`;return{get basename(){return t.basename},get future(){return{...r?.future}},get state(){return{historyAction:"POP",location:t.location,matches:n,loaderData:t.loaderData,actionData:t.actionData,errors:t.errors,initialized:!0,navigation:IDLE_NAVIGATION,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",fetchers:new Map,blockers:new Map}},get routes(){return o},get window(){},initialize(){throw i("initialize")},subscribe(){throw i("subscribe")},enableScrollRestoration(){throw i("enableScrollRestoration")},navigate(){throw i("navigate")},fetch(){throw i("fetch")},revalidate(){throw i("revalidate")},createHref:createHref,encodeLocation:encodeLocation,getFetcher:()=>IDLE_FETCHER,deleteFetcher(){throw i("deleteFetcher")},dispose(){throw i("dispose")},getBlocker:()=>IDLE_BLOCKER,deleteBlocker(){throw i("deleteBlocker")},patchRoutes(){throw i("patchRoutes")},_internalFetchControllers:new Map,_internalSetRoutes(){throw i("_internalSetRoutes")}}}function createHref(e){return"string"==typeof e?e:createPath(e)}function encodeLocation(e){let t="string"==typeof e?e:createPath(e);t=t.replace(/ $/,"%20");let r=ABSOLUTE_URL_REGEX3.test(t)?new URL(t):new URL(t,"http://localhost");return{pathname:r.pathname,search:r.search,hash:r.hash}}var ABSOLUTE_URL_REGEX3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ESCAPE_LOOKUP2={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},ESCAPE_REGEX2=/[&><\u2028\u2029]/g;function htmlEscape(e){return e.replace(ESCAPE_REGEX2,(e=>ESCAPE_LOOKUP2[e]))}var React12=__toESM(require("react"));function ServerRouter({context:e,url:t,nonce:r}){"string"==typeof t&&(t=new URL(t));let{manifest:a,routeModules:o,criticalCss:n,serverHandoffString:i}=e,s=createServerRoutes(a.routes,o,e.future,e.isSpaMode);e.staticHandlerContext.loaderData={...e.staticHandlerContext.loaderData};for(let t of e.staticHandlerContext.matches){let r=t.route.id,a=o[r],n=e.manifest.routes[r];a&&n&&shouldHydrateRouteLoader(n,a,e.isSpaMode)&&(a.HydrateFallback||!n.hasLoader)&&delete e.staticHandlerContext.loaderData[r]}let l=createStaticRouter(s,e.staticHandlerContext);return React12.createElement(React12.Fragment,null,React12.createElement(FrameworkContext.Provider,{value:{manifest:a,routeModules:o,criticalCss:n,serverHandoffString:i,future:e.future,isSpaMode:e.isSpaMode,serializeError:e.serializeError,renderMeta:e.renderMeta}},React12.createElement(RemixErrorBoundary,{location:l.state.location},React12.createElement(StaticRouterProvider,{router:l,context:e.staticHandlerContext,hydrate:!1}))),e.serverHandoffStream?React12.createElement(React12.Suspense,null,React12.createElement(StreamTransfer,{context:e,identifier:0,reader:e.serverHandoffStream.getReader(),textDecoder:new TextDecoder,nonce:r})):null)}var React13=__toESM(require("react"));function createRoutesStub(e,t={}){return function({initialEntries:r,initialIndex:a,hydrationData:o,future:n}){let i=React13.useRef(),s=React13.useRef();if(null==i.current){s.current={future:{},manifest:{routes:{},entry:{imports:[],module:""},url:"",version:""},routeModules:{},isSpaMode:!1};let n=processRoutes(convertRoutesToDataRoutes(e,(e=>e)),t,s.current.manifest,s.current.routeModules);i.current=createMemoryRouter(n,{initialEntries:r,initialIndex:a,hydrationData:o})}return React13.createElement(FrameworkContext.Provider,{value:s.current},React13.createElement(RouterProvider,{router:i.current}))}}function processRoutes(e,t,r,a,o){return e.map((e=>{if(!e.id)throw new Error("Expected a route.id in @remix-run/testing processRoutes() function");let{loader:n,action:i}=e,s={id:e.id,path:e.path,index:e.index,Component:e.Component,HydrateFallback:e.HydrateFallback,ErrorBoundary:e.ErrorBoundary,action:i?e=>i({...e,context:t}):void 0,loader:n?e=>n({...e,context:t}):void 0,handle:e.handle,shouldRevalidate:e.shouldRevalidate},l={id:e.id,path:e.path,index:e.index,parentId:o,hasAction:null!=e.action,hasLoader:null!=e.loader,hasClientAction:!1,hasClientLoader:!1,hasErrorBoundary:null!=e.ErrorBoundary,module:"build/stub-path-to-module.js"};return r.routes[s.id]=l,a[e.id]={default:e.Component||Outlet,ErrorBoundary:e.ErrorBoundary||void 0,handle:e.handle,links:e.links,meta:e.meta,shouldRevalidate:e.shouldRevalidate},e.children&&(s.children=processRoutes(e.children,t,r,a,s.id)),s}))}var import_cookie=require("cookie"),encoder=new TextEncoder,sign=async(e,t)=>{let r=encoder.encode(e),a=await createKey2(t,["sign"]),o=await crypto.subtle.sign("HMAC",a,r);return e+"."+btoa(String.fromCharCode(...new Uint8Array(o))).replace(/=+$/,"")},unsign=async(e,t)=>{let r=e.lastIndexOf("."),a=e.slice(0,r),o=e.slice(r+1),n=encoder.encode(a),i=await createKey2(t,["verify"]),s=byteStringToUint8Array(atob(o));return!!await crypto.subtle.verify("HMAC",i,s,n)&&a},createKey2=async(e,t)=>crypto.subtle.importKey("raw",encoder.encode(e),{name:"HMAC",hash:"SHA-256"},!1,t);function byteStringToUint8Array(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}var createCookie=(e,t={})=>{let{secrets:r=[],...a}={path:"/",sameSite:"lax",...t};return warnOnceAboutExpiresCookie(e,a.expires),{get name(){return e},get isSigned(){return r.length>0},get expires(){return void 0!==a.maxAge?new Date(Date.now()+1e3*a.maxAge):a.expires},async parse(t,o){if(!t)return null;let n=(0,import_cookie.parse)(t,{...a,...o});if(e in n){let t=n[e];if("string"==typeof t&&""!==t){return await decodeCookieValue(t,r)}return""}return null},serialize:async(t,o)=>(0,import_cookie.serialize)(e,""===t?"":await encodeCookieValue(t,r),{...a,...o})}},isCookie=e=>null!=e&&"string"==typeof e.name&&"boolean"==typeof e.isSigned&&"function"==typeof e.parse&&"function"==typeof e.serialize;async function encodeCookieValue(e,t){let r=encodeData(e);return t.length>0&&(r=await sign(r,t[0])),r}async function decodeCookieValue(e,t){if(t.length>0){for(let r of t){let t=await unsign(e,r);if(!1!==t)return decodeData(t)}return null}return decodeData(e)}function encodeData(e){return btoa(myUnescape(encodeURIComponent(JSON.stringify(e))))}function decodeData(e){try{return JSON.parse(decodeURIComponent(myEscape(atob(e))))}catch(e){return{}}}function myEscape(e){let t,r,a=e.toString(),o="",n=0;for(;n<a.length;)t=a.charAt(n++),/[\w*+\-./@]/.exec(t)?o+=t:(r=t.charCodeAt(0),o+=r<256?"%"+hex(r,2):"%u"+hex(r,4).toUpperCase());return o}function hex(e,t){let r=e.toString(16);for(;r.length<t;)r="0"+r;return r}function myUnescape(e){let t,r,a=e.toString(),o="",n=0;for(;n<a.length;){if(t=a.charAt(n++),"%"===t)if("u"===a.charAt(n)){if(r=a.slice(n+1,n+5),/^[\da-f]{4}$/i.exec(r)){o+=String.fromCharCode(parseInt(r,16)),n+=5;continue}}else if(r=a.slice(n,n+2),/^[\da-f]{2}$/i.exec(r)){o+=String.fromCharCode(parseInt(r,16)),n+=2;continue}o+=t}return o}function warnOnceAboutExpiresCookie(e,t){warnOnce(!t,`The "${e}" cookie has an "expires" property set. This will cause the expires value to not be updated when the session is committed. Instead, you should set the expires value when serializing the cookie. You can use \`commitSession(session, { expires })\` if using a session storage object, or \`cookie.serialize("value", { expires })\` if you're using the cookie directly.`)}function createEntryRouteModules(e){return Object.keys(e).reduce(((t,r)=>{let a=e[r];return a&&(t[r]=a.module),t}),{})}var ServerMode=(e=>(e.Development="development",e.Production="production",e.Test="test",e))(ServerMode||{});function isServerMode(e){return"development"===e||"production"===e||"test"===e}function sanitizeError(e,t){if(e instanceof Error&&"development"!==t){let e=new Error("Unexpected Server Error");return e.stack=void 0,e}return e}function sanitizeErrors(e,t){return Object.entries(e).reduce(((e,[r,a])=>Object.assign(e,{[r]:sanitizeError(a,t)})),{})}function serializeError(e,t){let r=sanitizeError(e,t);return{message:r.message,stack:r.stack}}function serializeErrors2(e,t){if(!e)return null;let r=Object.entries(e),a={};for(let[e,o]of r)if(isRouteErrorResponse(o))a[e]={...o,__type:"RouteErrorResponse"};else if(o instanceof Error){let r=sanitizeError(o,t);a[e]={message:r.message,stack:r.stack,__type:"Error",..."Error"!==r.name?{__subType:r.name}:{}}}else a[e]=o;return a}function matchServerRoutes(e,t,r){let a=matchRoutes(e,t,r);return a?a.map((e=>({params:e.params,pathname:e.pathname,route:e.route}))):null}async function callRouteHandler(e,t){let r=await e({request:stripRoutesParam(stripIndexParam2(t.request)),params:t.params,context:t.context});if(isDataWithResponseInit(r)&&r.init&&r.init.status&&isRedirectStatusCode(r.init.status))throw new Response(null,r.init);return r}function stripIndexParam2(e){let t=new URL(e.url),r=t.searchParams.getAll("index");t.searchParams.delete("index");let a=[];for(let e of r)e&&a.push(e);for(let e of a)t.searchParams.append("index",e);let o={method:e.method,body:e.body,headers:e.headers,signal:e.signal};return o.body&&(o.duplex="half"),new Request(t.href,o)}function stripRoutesParam(e){let t=new URL(e.url);t.searchParams.delete("_routes");let r={method:e.method,body:e.body,headers:e.headers,signal:e.signal};return r.body&&(r.duplex="half"),new Request(t.href,r)}function invariant3(e,t){if(!1===e||null==e)throw console.error("The following error is a bug in React Router; please open an issue! https://github.com/remix-run/react-router/issues/new/choose"),new Error(t)}function groupRoutesByParentId2(e){let t={};return Object.values(e).forEach((e=>{if(e){let r=e.parentId||"";t[r]||(t[r]=[]),t[r].push(e)}})),t}function createRoutes(e,t="",r=groupRoutesByParentId2(e)){return(r[t]||[]).map((t=>({...t,children:createRoutes(e,t.id,r)})))}function createStaticHandlerDataRoutes(e,t,r="",a=groupRoutesByParentId2(e)){return(a[r]||[]).map((r=>{let o={hasErrorBoundary:"root"===r.id||null!=r.module.ErrorBoundary,id:r.id,path:r.path,loader:r.module.loader?async e=>{if(e.request.headers.has("X-React-Router-Prerender-Data")){const t=e.request.headers.get("X-React-Router-Prerender-Data");let a=t?decodeURI(t):t;invariant3(a,"Missing prerendered data for route");let o=(new TextEncoder).encode(a),n=new ReadableStream({start(e){e.enqueue(o),e.close()}}),i=(await decodeViaTurboStream(n,global)).value;invariant3(i&&r.id in i,"Unable to decode prerendered data");let s=i[r.id];return invariant3("data"in s,"Unable to process prerendered data"),s.data}return await callRouteHandler(r.module.loader,e)}:void 0,action:r.module.action?e=>callRouteHandler(r.module.action,e):void 0,handle:r.module.handle};return r.index?{index:!0,...o}:{caseSensitive:r.caseSensitive,children:createStaticHandlerDataRoutes(e,t,r.id,a),...o}}))}var ESCAPE_LOOKUP3={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},ESCAPE_REGEX3=/[&><\u2028\u2029]/g;function escapeHtml2(e){return e.replace(ESCAPE_REGEX3,(e=>ESCAPE_LOOKUP3[e]))}function createServerHandoffString(e){return escapeHtml2(JSON.stringify(e))}var globalDevServerHooksKey="__reactRouterDevServerHooks";function setDevServerHooks(e){globalThis[globalDevServerHooksKey]=e}function getDevServerHooks(){return globalThis[globalDevServerHooksKey]}var import_turbo_stream2=require("turbo-stream"),import_set_cookie_parser=require("set-cookie-parser");function getDocumentHeaders(e,t){let r,a=t.errors?t.matches.findIndex((e=>t.errors[e.route.id])):-1,o=a>=0?t.matches.slice(0,a+1):t.matches;if(a>=0){let{actionHeaders:e,actionData:o,loaderHeaders:n,loaderData:i}=t;t.matches.slice(a).some((t=>{let a=t.route.id;return!e[a]||o&&o.hasOwnProperty(a)?n[a]&&!i.hasOwnProperty(a)&&(r=n[a]):r=e[a],null!=r}))}return o.reduce(((a,n,i)=>{let{id:s}=n.route,l=e.routes[s];invariant3(l,`Route with id "${s}" not found in build`);let u=l.module,c=t.loaderHeaders[s]||new Headers,d=t.actionHeaders[s]||new Headers,h=null!=r&&i===o.length-1,m=h&&r!==c&&r!==d;if(null==u.headers){let e=new Headers(a);return m&&prependCookies(r,e),prependCookies(d,e),prependCookies(c,e),e}let p=new Headers(u.headers?"function"==typeof u.headers?u.headers({loaderHeaders:c,parentHeaders:a,actionHeaders:d,errorHeaders:h?r:void 0}):u.headers:void 0);return m&&prependCookies(r,p),prependCookies(d,p),prependCookies(c,p),prependCookies(a,p),p}),new Headers)}function prependCookies(e,t){let r=e.get("Set-Cookie");if(r){let e=(0,import_set_cookie_parser.splitCookiesString)(r),a=new Set(t.getSetCookie());e.forEach((e=>{a.has(e)||t.append("Set-Cookie",e)}))}}var SINGLE_FETCH_REDIRECT_STATUS=202;function getSingleFetchDataStrategy2({isActionDataRequest:e,loadRouteIds:t}={}){return async({request:r,matches:a})=>{if(e&&"GET"===r.method)return{};let o=t?a.filter((e=>t.includes(e.route.id))):a;return(await Promise.all(o.map((e=>e.resolve())))).reduce(((e,t,r)=>Object.assign(e,{[o[r].route.id]:t})),{})}}async function singleFetchAction(e,t,r,a,o,n,i){try{let s=new Request(o,{method:a.method,body:a.body,headers:a.headers,signal:a.signal,...a.body?{duplex:"half"}:void 0}),l=await r.query(s,{requestContext:n,skipLoaderErrorBubbling:!0,dataStrategy:getSingleFetchDataStrategy2({isActionDataRequest:!0})});if(isResponse(l))return{result:getSingleFetchRedirect(l.status,l.headers,e.basename),headers:l.headers,status:SINGLE_FETCH_REDIRECT_STATUS};let u,c=l,d=getDocumentHeaders(e,c);return isRedirectStatusCode(c.statusCode)&&d.has("Location")?{result:getSingleFetchRedirect(c.statusCode,d,e.basename),headers:d,status:SINGLE_FETCH_REDIRECT_STATUS}:(c.errors&&(Object.values(c.errors).forEach((e=>{isRouteErrorResponse(e)&&!e.error||i(e)})),c.errors=sanitizeErrors(c.errors,t)),u=c.errors?{error:Object.values(c.errors)[0]}:{data:Object.values(c.actionData||{})[0]},{result:u,headers:d,status:c.statusCode})}catch(e){return i(e),{result:{error:e},headers:new Headers,status:500}}}async function singleFetchLoaders(e,t,r,a,o,n,i){try{let s=new Request(o,{headers:a.headers,signal:a.signal}),l=new URL(a.url).searchParams.get("_routes")?.split(",")||void 0,u=await r.query(s,{requestContext:n,skipLoaderErrorBubbling:!0,dataStrategy:getSingleFetchDataStrategy2({loadRouteIds:l})});if(isResponse(u))return{result:{[SingleFetchRedirectSymbol]:getSingleFetchRedirect(u.status,u.headers,e.basename)},headers:u.headers,status:SINGLE_FETCH_REDIRECT_STATUS};let c=u,d=getDocumentHeaders(e,c);if(isRedirectStatusCode(c.statusCode)&&d.has("Location"))return{result:{[SingleFetchRedirectSymbol]:getSingleFetchRedirect(c.statusCode,d,e.basename)},headers:d,status:SINGLE_FETCH_REDIRECT_STATUS};c.errors&&(Object.values(c.errors).forEach((e=>{isRouteErrorResponse(e)&&!e.error||i(e)})),c.errors=sanitizeErrors(c.errors,t));let h={};return(l?c.matches.filter((e=>e.route.loader&&l.includes(e.route.id))):c.matches).forEach((e=>{let{id:t}=e.route;c.errors&&c.errors.hasOwnProperty(t)?h[t]={error:c.errors[t]}:c.loaderData.hasOwnProperty(t)&&(h[t]={data:c.loaderData[t]})})),{result:h,headers:d,status:c.statusCode}}catch(e){return i(e),{result:{root:{error:e}},headers:new Headers,status:500}}}function getSingleFetchRedirect(e,t,r){let a=t.get("Location");return r&&(a=stripBasename(a,r)||a),{redirect:a,status:e,revalidate:t.has("X-Remix-Revalidate")||t.has("Set-Cookie"),reload:t.has("X-Remix-Reload-Document"),replace:t.has("X-Remix-Replace")}}function encodeViaTurboStream(e,t,r,a){let o=new AbortController,n=setTimeout((()=>o.abort(new Error("Server Timeout"))),"number"==typeof r?r:4950);return t.addEventListener("abort",(()=>clearTimeout(n))),(0,import_turbo_stream2.encode)(e,{signal:o.signal,plugins:[e=>{if(e instanceof Error){let{name:t,message:r,stack:o}="production"===a?sanitizeError(e,a):e;return["SanitizedError",t,r,o]}if(e instanceof ErrorResponseImpl){let{data:t,status:r,statusText:a}=e;return["ErrorResponse",t,r,a]}if(e&&"object"==typeof e&&SingleFetchRedirectSymbol in e)return["SingleFetchRedirect",e[SingleFetchRedirectSymbol]]}],postPlugins:[e=>{if(e&&"object"==typeof e)return["SingleFetchClassInstance",Object.fromEntries(Object.entries(e))]},()=>["SingleFetchFallback"]]})}var NO_BODY_STATUS_CODES=new Set([100,101,204,205,304]);function derive(e,t){let r=createRoutes(e.routes),a=createStaticHandlerDataRoutes(e.routes,e.future),o=isServerMode(t)?t:"production",n=createStaticHandler(a,{basename:e.basename}),i=e.entry.module.handleError||((e,{request:t})=>{"test"===o||t.signal.aborted||console.error(isRouteErrorResponse(e)&&e.error?e.error:e)});return{routes:r,dataRoutes:a,serverMode:o,staticHandler:n,errorHandler:i}}var createRequestHandler=(e,t)=>{let r,a,o,n,i;return async function(s,l={}){if(r="function"==typeof e?await e():e,"function"==typeof e){let e=derive(r,t);a=e.routes,o=e.serverMode,n=e.staticHandler,i=e.errorHandler}else if(!(a&&o&&n&&i)){let e=derive(r,t);a=e.routes,o=e.serverMode,n=e.staticHandler,i=e.errorHandler}let u=new URL(s.url),c={},d=e=>{"development"===t&&getDevServerHooks()?.processRequestError?.(e),i(e,{context:l,params:c,request:s})},h=`${r.basename??"/"}/__manifest`.replace(/\/+/g,"/");if(u.pathname===h)try{return await handleManifestRequest(r,a,u)}catch(e){return d(e),new Response("Unknown Server Error",{status:500})}let m,p=matchServerRoutes(a,u.pathname,r.basename);if(p&&p.length>0&&Object.assign(c,p[0].params),u.pathname.endsWith(".data")){let e=new URL(s.url);e.pathname=e.pathname.replace(/\.data$/,"").replace(/^\/_root$/,"/");let t=matchServerRoutes(a,e.pathname,r.basename);if(m=await handleSingleFetchRequest(o,r,n,s,e,l,d),r.entry.module.handleDataRequest&&(m=await r.entry.module.handleDataRequest(m,{context:l,params:t?t[0].params:{},request:s}),isRedirectResponse(m))){let e=getSingleFetchRedirect(m.status,m.headers,r.basename);"GET"===s.method&&(e={[SingleFetchRedirectSymbol]:e});let t=new Headers(m.headers);return t.set("Content-Type","text/x-script"),new Response(encodeViaTurboStream(e,s.signal,r.entry.module.streamTimeout,o),{status:SINGLE_FETCH_REDIRECT_STATUS,headers:t})}}else if(p&&null==p[p.length-1].route.module.default&&null==p[p.length-1].route.module.ErrorBoundary)m=await handleResourceRequest(o,n,p.slice(-1)[0].route.id,s,l,d);else{let e="development"===t?await(getDevServerHooks()?.getCriticalCss?.(r,u.pathname)):void 0;m=await handleDocumentRequest(o,r,n,s,l,d,e)}return"HEAD"===s.method?new Response(null,{headers:m.headers,status:m.status,statusText:m.statusText}):m}};async function handleManifestRequest(e,t,r){let a={};if(r.searchParams.has("p")){for(let o of r.searchParams.getAll("p")){let r=matchServerRoutes(t,o,e.basename);if(r)for(let t of r){let r=t.route.id,o=e.assets.routes[r];o&&(a[r]=o)}}return Response.json(a,{headers:{"Cache-Control":"public, max-age=31536000, immutable"}})}return new Response("Invalid Request",{status:400})}async function handleSingleFetchRequest(e,t,r,a,o,n,i){let{result:s,headers:l,status:u}="GET"!==a.method?await singleFetchAction(t,e,r,a,o,n,i):await singleFetchLoaders(t,e,r,a,o,n,i),c=new Headers(l);return c.set("X-Remix-Response","yes"),NO_BODY_STATUS_CODES.has(u)?new Response(null,{status:u,headers:c}):(c.set("Content-Type","text/x-script"),new Response(encodeViaTurboStream(s,a.signal,t.entry.module.streamTimeout,e),{status:u||200,headers:c}))}async function handleDocumentRequest(e,t,r,a,o,n,i){let s;try{s=await r.query(a,{requestContext:o})}catch(e){return n(e),new Response(null,{status:500})}if(isResponse(s))return s;let l=getDocumentHeaders(t,s);if(NO_BODY_STATUS_CODES.has(s.statusCode))return new Response(null,{status:s.statusCode,headers:l});s.errors&&(Object.values(s.errors).forEach((e=>{isRouteErrorResponse(e)&&!e.error||n(e)})),s.errors=sanitizeErrors(s.errors,e));let u={loaderData:s.loaderData,actionData:s.actionData,errors:serializeErrors2(s.errors,e)},c={manifest:t.assets,routeModules:createEntryRouteModules(t.routes),staticHandlerContext:s,criticalCss:i,serverHandoffString:createServerHandoffString({basename:t.basename,criticalCss:i,future:t.future,isSpaMode:t.isSpaMode}),serverHandoffStream:encodeViaTurboStream(u,a.signal,t.entry.module.streamTimeout,e),renderMeta:{},future:t.future,isSpaMode:t.isSpaMode,serializeError:t=>serializeError(t,e)},d=t.entry.module.default;try{return await d(a,s.statusCode,l,c,o)}catch(i){n(i);let u=i;if(isResponse(i))try{let e=await unwrapResponse(i);u=new ErrorResponseImpl(i.status,i.statusText,e)}catch(e){}s=getStaticContextFromError(r.dataRoutes,s,u),s.errors&&(s.errors=sanitizeErrors(s.errors,e));let h={loaderData:s.loaderData,actionData:s.actionData,errors:serializeErrors2(s.errors,e)};c={...c,staticHandlerContext:s,serverHandoffString:createServerHandoffString({basename:t.basename,future:t.future,isSpaMode:t.isSpaMode}),serverHandoffStream:encodeViaTurboStream(h,a.signal,t.entry.module.streamTimeout,e),renderMeta:{}};try{return await d(a,s.statusCode,l,c,o)}catch(t){return n(t),returnLastResortErrorResponse(t,e)}}}async function handleResourceRequest(e,t,r,a,o,n){try{let e=await t.queryRoute(a,{routeId:r,requestContext:o});return isResponse(e)?e:"string"==typeof e?new Response(e):Response.json(e)}catch(t){return isResponse(t)?(t.headers.set("X-Remix-Catch","yes"),t):isRouteErrorResponse(t)?(t&&n(t),errorResponseToJson(t,e)):(n(t),returnLastResortErrorResponse(t,e))}}function errorResponseToJson(e,t){return Response.json(serializeError(e.error||new Error("Unexpected Server Error"),t),{status:e.status,statusText:e.statusText,headers:{"X-Remix-Error":"yes"}})}function returnLastResortErrorResponse(e,t){let r="Unexpected Server Error";return"production"!==t&&(r+=`\n\n${String(e)}`),new Response(r,{status:500,headers:{"Content-Type":"text/plain"}})}function unwrapResponse(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?null==e.body?null:e.json():e.text()}function flash(e){return`__flash_${e}__`}var createSession=(e={},t="")=>{let r=new Map(Object.entries(e));return{get id(){return t},get data(){return Object.fromEntries(r)},has:e=>r.has(e)||r.has(flash(e)),get(e){if(r.has(e))return r.get(e);let t=flash(e);if(r.has(t)){let e=r.get(t);return r.delete(t),e}},set(e,t){r.set(e,t)},flash(e,t){r.set(flash(e),t)},unset(e){r.delete(e)}}},isSession=e=>null!=e&&"string"==typeof e.id&&void 0!==e.data&&"function"==typeof e.has&&"function"==typeof e.get&&"function"==typeof e.set&&"function"==typeof e.flash&&"function"==typeof e.unset;function createSessionStorage({cookie:e,createData:t,readData:r,updateData:a,deleteData:o}){let n=isCookie(e)?e:createCookie(e?.name||"__session",e);return warnOnceAboutSigningSessionCookie(n),{async getSession(e,t){let a=e&&await n.parse(e,t),o=a&&await r(a);return createSession(o||{},a||"")},async commitSession(e,r){let{id:o,data:i}=e,s=null!=r?.maxAge?new Date(Date.now()+1e3*r.maxAge):null!=r?.expires?r.expires:n.expires;return o?await a(o,i,s):o=await t(i,s),n.serialize(o,r)},destroySession:async(e,t)=>(await o(e.id),n.serialize("",{...t,maxAge:void 0,expires:new Date(0)}))}}function warnOnceAboutSigningSessionCookie(e){warnOnce(e.isSigned,`The "${e.name}" cookie is not signed, but session cookies should be signed to prevent tampering on the client before they are sent back to the server. See https://remix.run/utils/cookies#signing-cookies for more information.`)}function createCookieSessionStorage({cookie:e}={}){let t=isCookie(e)?e:createCookie(e?.name||"__session",e);return warnOnceAboutSigningSessionCookie(t),{getSession:async(e,r)=>createSession(e&&await t.parse(e,r)||{}),async commitSession(e,r){let a=await t.serialize(e.data,r);if(a.length>4096)throw new Error("Cookie length will exceed browser maximum. Length: "+a.length);return a},destroySession:async(e,r)=>t.serialize("",{...r,maxAge:void 0,expires:new Date(0)})}}function createMemorySessionStorage({cookie:e}={}){let t=new Map;return createSessionStorage({cookie:e,async createData(e,r){let a=Math.random().toString(36).substring(2,10);return t.set(a,{data:e,expires:r}),a},async readData(e){if(t.has(e)){let{data:r,expires:a}=t.get(e);if(!a||a>new Date)return r;a&&t.delete(e)}return null},async updateData(e,r,a){t.set(e,{data:r,expires:a})},async deleteData(e){t.delete(e)}})}function deserializeErrors2(e){if(!e)return null;let t=Object.entries(e),r={};for(let[e,a]of t)if(a&&"RouteErrorResponse"===a.__type)r[e]=new ErrorResponseImpl(a.status,a.statusText,a.data,!0===a.internal);else if(a&&"Error"===a.__type){if(a.__subType){let t=window[a.__subType];if("function"==typeof t)try{let o=new t(a.message);o.stack=a.stack,r[e]=o}catch(e){}}if(null==r[e]){let t=new Error(a.message);t.stack=a.stack,r[e]=t}}else r[e]=a;return r}
//# sourceMappingURL=/sm/861fc40db596c29ccd1b37469adfb54f2c06aac3122c945249a0a27c65dcdf23.map